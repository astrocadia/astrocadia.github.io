import{j as k}from"./jsx-runtime-4WDyTGeM.js";import{r,a as z}from"./index-Dl6G-zuu.js";import{R as A}from"./index-CmOK7BR8.js";import{c as B,a as H,m as W,E as Y,D as q,b as G,R as J,u as K}from"./index-DhieATjG.js";/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function g(){return g=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},g.apply(this,arguments)}const Q="6";try{window.__reactRouterVersion=Q}catch{}function X(t,i){return B({basename:void 0,future:g({},void 0,{v7_prependBasename:!0}),history:H({window:void 0}),hydrationData:Z(),routes:t,mapRouteProperties:W,window:void 0}).initialize()}function Z(){var t;let i=(t=window)==null?void 0:t.__staticRouterHydrationData;return i&&i.errors&&(i=g({},i,{errors:$(i.errors)})),i}function $(t){if(!t)return null;let i=Object.entries(t),e={};for(let[s,n]of i)if(n&&n.__type==="RouteErrorResponse")e[s]=new Y(n.status,n.statusText,n.data,n.internal===!0);else if(n&&n.__type==="Error"){if(n.__subType){let u=window[n.__subType];if(typeof u=="function")try{let l=new u(n.message);l.stack="",e[s]=l}catch{}}if(e[s]==null){let u=new Error(n.message);u.stack="",e[s]=u}}else e[s]=n;return e}const ee=r.createContext({isTransitioning:!1}),te=r.createContext(new Map),re="startTransition",I=z[re],ne="flushSync",O=A[ne];function ie(t){I?I(t):t()}function S(t){O?O(t):t()}class se{constructor(){this.status="pending",this.promise=new Promise((i,e)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",i(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",e(s))}})}}function ae(t){let{fallbackElement:i,router:e,future:s}=t,[n,u]=r.useState(e.state),[l,y]=r.useState(),[v,h]=r.useState({isTransitioning:!1}),[o,E]=r.useState(),[m,R]=r.useState(),[w,L]=r.useState(),T=r.useRef(new Map),{v7_startTransition:C}=s||{},_=r.useCallback(a=>{C?ie(a):a()},[C]),P=r.useCallback((a,f)=>{let{deletedFetchers:c,unstable_flushSync:F,unstable_viewTransitionOpts:d}=f;c.forEach(p=>T.current.delete(p)),a.fetchers.forEach((p,M)=>{p.data!==void 0&&T.current.set(M,p.data)});let N=e.window==null||typeof e.window.document.startViewTransition!="function";if(!d||N){F?S(()=>u(a)):_(()=>u(a));return}if(F){S(()=>{m&&(o&&o.resolve(),m.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:d.currentLocation,nextLocation:d.nextLocation})});let p=e.window.document.startViewTransition(()=>{S(()=>u(a))});p.finished.finally(()=>{S(()=>{E(void 0),R(void 0),y(void 0),h({isTransitioning:!1})})}),S(()=>R(p));return}m?(o&&o.resolve(),m.skipTransition(),L({state:a,currentLocation:d.currentLocation,nextLocation:d.nextLocation})):(y(a),h({isTransitioning:!0,flushSync:!1,currentLocation:d.currentLocation,nextLocation:d.nextLocation}))},[e.window,m,o,T,_]);r.useLayoutEffect(()=>e.subscribe(P),[e,P]),r.useEffect(()=>{v.isTransitioning&&!v.flushSync&&E(new se)},[v]),r.useEffect(()=>{if(o&&l&&e.window){let a=l,f=o.promise,c=e.window.document.startViewTransition(async()=>{_(()=>u(a)),await f});c.finished.finally(()=>{E(void 0),R(void 0),y(void 0),h({isTransitioning:!1})}),R(c)}},[_,l,o,e.window]),r.useEffect(()=>{o&&l&&n.location.key===l.location.key&&o.resolve()},[o,m,n.location,l]),r.useEffect(()=>{!v.isTransitioning&&w&&(y(w.state),h({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),L(void 0))},[v.isTransitioning,w]),r.useEffect(()=>{},[]);let x=r.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:a=>e.navigate(a),push:(a,f,c)=>e.navigate(a,{state:f,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(a,f,c)=>e.navigate(a,{replace:!0,state:f,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[e]),b=e.basename||"/",D=r.useMemo(()=>({router:e,navigator:x,static:!1,basename:b}),[e,x,b]);return r.createElement(r.Fragment,null,r.createElement(q.Provider,{value:D},r.createElement(G.Provider,{value:n},r.createElement(te.Provider,{value:T.current},r.createElement(ee.Provider,{value:v},r.createElement(J,{basename:b,location:n.location,navigationType:n.historyAction,navigator:x,future:{v7_relativeSplatPath:e.future.v7_relativeSplatPath}},n.initialized||e.future.v7_partialHydration?r.createElement(oe,{routes:e.routes,future:e.future,state:n}):i))))),null)}function oe(t){let{routes:i,future:e,state:s}=t;return K(i,void 0,s,e)}var U;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(U||(U={}));var V;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(V||(V={}));const j=({children:t})=>k.jsx(ae,{router:X([{path:"*",element:t}])});try{j.displayName="RouteWrapper",j.__docgenInfo={description:"",displayName:"RouteWrapper",props:{}}}catch{}export{j as R};
