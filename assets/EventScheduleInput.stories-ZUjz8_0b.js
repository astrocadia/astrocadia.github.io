import{j as t}from"./jsx-runtime-4WDyTGeM.js";import{D as Y}from"./datetime-B8oWyIaC.js";import{r as m}from"./index-Dl6G-zuu.js";import{d as j}from"./index-DT9bQTP5.js";import{T as L}from"./ThemeProviderWrapper-Be5RUURM.js";import{c as V}from"./index-eOQoo3sK.js";import{i as O}from"./lang-BqISUGWn.js";import{C as q}from"./Chip-Dz4tqHkS.js";import{D as k}from"./DatePicker-osaajekE.js";import{G as U}from"./gumbandDateProvider-CvoOMVcz.js";import{T as K}from"./TimePicker-BzROjggn.js";import{S as H}from"./SelectWithRemove-BeCphl1V.js";import"./index-B8_SLiQy.js";import"./WarningIcon-DZ-0i3Yx.js";import"./SvgIcon-eIfT25mh.js";import"./SvgIcon-DROc5w4B.js";import"./styled-Dt2_JBRt.js";import"./EditIcon-C_DteFoa.js";import"./LinkIcon-8pN4OFct.js";import"./Chip-gErBvg2S.js";import"./createSvgIcon-D7FplSTg.js";import"./useForkRef-BDoLG09A.js";import"./ButtonBase-Cp5BTdG6.js";import"./useTimeout-B4b6mSVs.js";import"./TransitionGroupContext-xAci1nHd.js";import"./useIsFocusVisible-NzCoqL_q.js";import"./IconButton-vPDIoB2n.js";import"./IconButton-Djqk-I0k.js";import"./Tooltip-B5Gmbdco.js";import"./useTheme-DLZNzqMo.js";import"./ownerDocument-DW-IO8s5.js";import"./Portal-3LY7w8wx.js";import"./index-CmOK7BR8.js";import"./useSlotProps-CP3WIws3.js";import"./mergeSlotProps-D2P12luN.js";import"./isHostComponent-DVu5iVWx.js";import"./useControlled-1Y2rT-1r.js";import"./useId-BkqTTtmk.js";import"./Grow-BnLMXtPt.js";import"./utils-CzoQ7LGy.js";import"./DatePickerActionBar-Ca7rIhaH.js";import"./index-B9Uzdy41.js";import"./Typography-8CCtzQ9L.js";import"./useMediaQuery-BI_VLzxJ.js";import"./valueManagers-DfxpBv93.js";import"./utils-C_cNsDj2.js";import"./PickerViewRoot-UUSpvxtv.js";import"./index-BfyspvgH.js";import"./Button-C5OdypjM.js";import"./DialogActions-b_8TWE7c.js";import"./List-C41wlV70.js";import"./ListContext-BMbj8Y86.js";import"./ListItem-6Y_zk0LJ.js";import"./isMuiElement-DAcuSkv2.js";import"./ListItemSecondaryAction-eJlCA5Er.js";import"./Button-CqlPB7zF.js";import"./DatePickerCalendarHeader-CMFz_tXu.js";import"./validateDate-YOAbBWzt.js";import"./Fade-u7WpI_Fx.js";import"./colorManipulator-CE5bNU3Z.js";import"./FlowButton-BP4DMYyE.js";import"./DialogTitle-fvag0Hwa.js";import"./useMobileMediaQuery-DDszdcix.js";import"./Modal-PRNVlI3H.js";import"./getScrollbarSize-Bqq2hMjQ.js";import"./ownerWindow-BN2rbQ_G.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Paper-Dxqu9lYo.js";import"./createSvgIcon-CBDqugwZ.js";/* empty css                                 */import"./ControlledTextField-VSi4Itg2.js";import"./TextField-DksRe_tn.js";import"./FormControl-DcAW02lu.js";import"./FormControl-CEdSnwwK.js";import"./utils-DoM3o7-Q.js";import"./useFormControl-f2Zb6bR-.js";import"./FormHelperText-DtGLVIpz.js";import"./FormHelperText-B-lqvv-N.js";import"./formControlState-Dq1zat_P.js";import"./Input-BCsX3R8r.js";import"./InputAdornment-BcfgeZVH.js";import"./InputLabel-D8KLsBjt.js";import"./InputLabel-CoHzGKZp.js";import"./FormLabel-B9PyWtWF.js";import"./Select-tm-Q-jdf.js";import"./react-is.production.min-DUDD-a5e.js";import"./Menu-BhnrG3vD.js";import"./Popover-Db_KuLdV.js";import"./MenuList-CRTvLIIN.js";import"./InputAdornmentButton-Cc0xLUze.js";import"./PickersShortcuts-BAk9hKTh.js";import"./ListItem-DL2UJvRw.js";import"./shared-JYSZy3UM.js";import"./useClearableField-fwONxECJ.js";import"./TextField-DVhuxQao.js";import"./useMobilePicker-BpFxy7L2.js";import"./DigitalClockSectionItem-BZ0EIkfP.js";import"./MenuItem-pwvj7SPr.js";import"./dividerClasses-Bm2W9hGA.js";import"./listItemTextClasses-Dmj8zJQC.js";import"./ListItemIcon-Bzpm1BdP.js";import"./MenuItem-BQL84gbW.js";import"./date-time-utils-Dx5--nch.js";import"./validateTime-DRbu2EZP.js";import"./index-gJSNZJdW.js";import"./ListItemText-BozFVjry.js";import"./index-Bu4DXql-.js";import"./Dot-B-sjopOf.js";import"./ListItemSecondaryAction-CWizB7UF.js";const N="MM/dd/yyyy",P="hh:mm a",F="Repeat",G="End",$="Never",B="Every day",Q="Every weekday",X="Every weekend",z="Every ",J="week",Z="Custom",n={NEVER:"never",DAILY:"daily",WEEKDAYS:"weekdays",WEEKENDS:"weekends",WEEKLY:"weekly",CUSTOM:"custom"},r={SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6};function y(l){return typeof l=="number"&&Object.values(r).includes(l)}const ee={[r.SUNDAY]:"S",[r.MONDAY]:"M",[r.TUESDAY]:"T",[r.WEDNESDAY]:"W",[r.THURSDAY]:"T",[r.FRIDAY]:"F",[r.SATURDAY]:"S"},te=l=>y(l)?ee[l]:"",re=[{label:"After 1 week",endAfter:{weeks:1}},{label:"After 1 month",endAfter:{months:1}},{label:"After 3 months",endAfter:{months:3}},{label:"After 1 year",endAfter:{years:1}}],v=m.memo(({className:l,repeatMode:d,customRepeatDays:D,startDateTime:e,endDateTime:E,shortcuts:a=re,minStartDate:A,startDateError:p,startDateHelperText:f,startTimeError:C,startTimeHelperText:T,maxEndDate:R,endDateError:i,endDateHelperText:s,onChangeRepeatMode:u,onChangeCustomRepeatDays:c,onChangeStartDateTime:h,onChangeEndDateTime:S})=>{const M=m.useMemo(()=>{const o=(e==null?void 0:e.weekdayLong)??J;return[{value:n.NEVER,label:$},{value:n.DAILY,label:B},{value:n.WEEKDAYS,label:Q},{value:n.WEEKENDS,label:X},{value:n.WEEKLY,label:`${z}${o}`},{value:n.CUSTOM,label:Z}]},[e==null?void 0:e.weekdayLong]),w=m.useMemo(()=>[n.WEEKLY,n.WEEKENDS,n.DAILY,n.WEEKDAYS,n.CUSTOM].includes(d),[d]),I=m.useCallback(o=>{const b=new Set(D);b.has(o)?b.delete(o):b.add(o),c(b)},[D,c]);return t.jsx("div",{className:V("EventScheduleInput",l),children:t.jsxs(U,{children:[t.jsxs("div",{className:"EventScheduleInput__splitRow",children:[t.jsx(k,{value:e,onChange:h,minDate:A,format:N,error:p,helperText:f}),t.jsx(K,{value:e,onChange:h,format:P,error:C,helperText:T})]}),t.jsxs("div",{className:"EventScheduleInput__repeatSection",children:[t.jsxs("div",{className:"EventScheduleInput__splitRow",children:[t.jsx("div",{className:"EventScheduleInput__splitRowLabel",children:F}),t.jsx(H,{options:M,value:d,onChange:u})]}),d===n.CUSTOM&&t.jsx("div",{className:"EventScheduleInput__chipContainer",children:Object.values(r).map(o=>t.jsx(q,{className:"EventScheduleInput__weekdayChip",label:te(o),onClick:()=>I(o),selected:D.has(o)},o))}),w&&t.jsxs("div",{className:"EventScheduleInput__splitRow",children:[t.jsx("div",{className:"EventScheduleInput__splitRowLabel",children:G}),t.jsx(k,{value:E,onChange:S,format:N,minDate:e||void 0,maxDate:R,error:i,helperText:s,slotProps:{shortcuts:{label:"Quick Select",isValid:o=>!O(o),items:a.map(o=>({label:o.label,getValue:()=>(e==null?void 0:e.plus(o.endAfter))||null}))}}})]})]})]})})});v.displayName="EventScheduleInput";try{v.displayName="EventScheduleInput",v.__docgenInfo={description:"",displayName:"EventScheduleInput",props:{shortcuts:{defaultValue:null,description:"",name:"shortcuts",required:!1,type:{name:"EventScheduleShortcutItem[]"}},repeatMode:{defaultValue:null,description:"",name:"repeatMode",required:!0,type:{name:"enum",value:[{value:'"never"'},{value:'"daily"'},{value:'"weekdays"'},{value:'"weekends"'},{value:'"weekly"'},{value:'"custom"'}]}},customRepeatDays:{defaultValue:null,description:"",name:"customRepeatDays",required:!0,type:{name:"Set<Weekday>"}},startDateTime:{defaultValue:null,description:"",name:"startDateTime",required:!0,type:{name:"DateTime<boolean> | null"}},endDateTime:{defaultValue:null,description:"",name:"endDateTime",required:!0,type:{name:"DateTime<boolean> | null"}},startDateError:{defaultValue:null,description:"",name:"startDateError",required:!1,type:{name:"boolean"}},startDateHelperText:{defaultValue:null,description:"",name:"startDateHelperText",required:!1,type:{name:"string"}},startTimeError:{defaultValue:null,description:"",name:"startTimeError",required:!1,type:{name:"boolean"}},startTimeHelperText:{defaultValue:null,description:"",name:"startTimeHelperText",required:!1,type:{name:"string"}},minStartDate:{defaultValue:null,description:"",name:"minStartDate",required:!1,type:{name:"DateTime<boolean>"}},endDateError:{defaultValue:null,description:"",name:"endDateError",required:!1,type:{name:"boolean"}},endDateHelperText:{defaultValue:null,description:"",name:"endDateHelperText",required:!1,type:{name:"string"}},maxEndDate:{defaultValue:null,description:"",name:"maxEndDate",required:!1,type:{name:"DateTime<boolean>"}},onChangeRepeatMode:{defaultValue:null,description:"",name:"onChangeRepeatMode",required:!0,type:{name:"(repeatMode: RepeatMode) => void"}},onChangeCustomRepeatDays:{defaultValue:null,description:"",name:"onChangeCustomRepeatDays",required:!0,type:{name:"(customRepeatDays: Set<Weekday>) => void"}},onChangeStartDateTime:{defaultValue:null,description:"",name:"onChangeStartDateTime",required:!0,type:{name:"(startDateTime: DateTime<boolean> | null) => void"}},onChangeEndDateTime:{defaultValue:null,description:"",name:"onChangeEndDateTime",required:!0,type:{name:"(endDateTime: DateTime<boolean> | null) => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const ar={title:"Design System/Composite Components/EventScheduleInput",tags:["autodocs"],component:v,decorators:[l=>t.jsx(L,{children:t.jsx(l,{})})],render:l=>{const[d,D]=m.useState(n.NEVER),[e,E]=m.useState(new Set),[a,A]=m.useState(null),[p,f]=m.useState(null),C=m.useMemo(()=>{if(p&&a){if(p.toMillis()<a.toMillis())return{error:!0,helperText:"End date must be after Start date"};if(p.toMillis()>a.plus({years:1}).toMillis())return{error:!0,helperText:"Event duration cannot exceed 1 year"}}return{error:!1,helperText:void 0}},[a,p]),T=m.useCallback(i=>{var c;let s=new Set;const u=(c=a==null?void 0:a.weekdayLong)==null?void 0:c.toLowerCase();switch(i){case"custom":s=new Set(e),y(u)&&s.add(u);break;case"daily":s=new Set(Object.values(r));break;case"weekdays":s=new Set([r.MONDAY,r.TUESDAY,r.WEDNESDAY,r.THURSDAY,r.FRIDAY]);break;case"weekends":s=new Set([r.SATURDAY,r.SUNDAY]);break;case"weekly":case"never":y(u)&&(s=new Set([u]));break;default:j.exhaustiveGuard(i)}D(i),E(s)},[e,a]),R=m.useCallback(i=>{var s,u;if(Y.isDateTime(i)&&(!p||p.toMillis()-i.toMillis()>1e3*60*60*24*365)&&f(Y.fromObject(i.toObject()).plus({years:1})),A(i),d===n.CUSTOM){const c=(s=i==null?void 0:i.weekdayLong)==null?void 0:s.toLowerCase(),h=(u=a==null?void 0:a.weekdayLong)==null?void 0:u.toLowerCase(),S=new Set(e);y(h)&&S.delete(h),y(c)&&S.add(c),E(S)}},[a,p,d,e,f,A,E]);return t.jsx(v,{...l,repeatMode:d,customRepeatDays:e,startDateTime:a,endDateTime:p,onChangeRepeatMode:T,onChangeCustomRepeatDays:E,onChangeStartDateTime:R,onChangeEndDateTime:f,endDateError:C.error,endDateHelperText:C.helperText})}},x={};var g,W,_;x.parameters={...x.parameters,docs:{...(g=x.parameters)==null?void 0:g.docs,source:{originalSource:"{}",...(_=(W=x.parameters)==null?void 0:W.docs)==null?void 0:_.source}}};const nr=["Default"];export{x as Default,nr as __namedExportsOrder,ar as default};
