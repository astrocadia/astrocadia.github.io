import{j as t}from"./jsx-runtime-4WDyTGeM.js";import{D as Y}from"./datetime-B8oWyIaC.js";import{r as m}from"./index-Dl6G-zuu.js";import{d as j}from"./index-DT9bQTP5.js";import{T as L}from"./ThemeProviderWrapper-uQhE3vfQ.js";import{c as V}from"./index-eOQoo3sK.js";import{i as O}from"./lang-BqISUGWn.js";import{C as q}from"./Chip-CZIjhalA.js";import{D as k}from"./DatePicker-DuGI8RLt.js";import{G as U}from"./gumbandDateProvider-kp3yM1EO.js";import{T as K}from"./TimePicker-D5RFTOon.js";import{S as H}from"./SelectWithRemove-kk3tS7D1.js";import"./index-B8_SLiQy.js";import"./WarningIcon-YBpYPasA.js";import"./SvgIcon-C116lwZp.js";import"./SvgIcon-d6V0mnb4.js";import"./styled-DaAyEikA.js";import"./EditIcon-BPFrJ5Yh.js";import"./LinkIcon-BD5TNNoh.js";import"./Chip-Cp8hC29r.js";import"./createSvgIcon-DWxpDd4T.js";import"./useForkRef-BDoLG09A.js";import"./ButtonBase-gXIT4mbS.js";import"./useTimeout-B4b6mSVs.js";import"./TransitionGroupContext-xAci1nHd.js";import"./useIsFocusVisible-NzCoqL_q.js";import"./IconButton-BDZtzWmg.js";import"./IconButton-BRjw76_K.js";import"./Tooltip-CSQNJ7MT.js";import"./useTheme-CYpYpbD_.js";import"./ownerDocument-DW-IO8s5.js";import"./Portal-3LY7w8wx.js";import"./index-CmOK7BR8.js";import"./useSlotProps-DeMrnH46.js";import"./mergeSlotProps-Dc5z_XIy.js";import"./isHostComponent-DVu5iVWx.js";import"./useControlled-1Y2rT-1r.js";import"./useId-BkqTTtmk.js";import"./Grow-CF8DuDB2.js";import"./utils-Dh94M0rq.js";import"./DatePickerActionBar-DwqTL_vD.js";import"./index-DIU7Ih60.js";import"./Typography-n3eyoqZV.js";import"./useMediaQuery-CDF-4tKz.js";import"./valueManagers-DQiUa3Xx.js";import"./utils-LIBDN8De.js";import"./PickerViewRoot-j1zuD5GA.js";import"./index-BfyspvgH.js";import"./Button-BYmqNiby.js";import"./DialogActions-Dq_sZO6J.js";import"./List-B5csL-18.js";import"./ListContext-BMbj8Y86.js";import"./ListItem-CgztQErV.js";import"./isMuiElement-DAcuSkv2.js";import"./ListItemSecondaryAction-jR0jlMNJ.js";import"./Button-BC5jjjI2.js";import"./DatePickerCalendarHeader-CsuVBcK-.js";import"./validateDate-DJzJFC_d.js";import"./Fade-Baf6ytQl.js";import"./colorManipulator-CH2yvhWM.js";import"./FlowButton-RjHZIMq0.js";import"./DialogTitle-D_hGDQYf.js";import"./useMobileMediaQuery-DuF0AuJt.js";import"./Modal-_7pSkSOU.js";import"./getScrollbarSize-Bqq2hMjQ.js";import"./ownerWindow-BN2rbQ_G.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Paper-B6pP1Hjl.js";import"./createSvgIcon-3kI-rNei.js";/* empty css                                 */import"./ControlledTextField-DahybUvL.js";import"./TextField-D7DNAK2i.js";import"./FormControl-U7SoSfUg.js";import"./FormControl-BW8ARzgi.js";import"./utils-DoM3o7-Q.js";import"./useFormControl-f2Zb6bR-.js";import"./FormHelperText-DlWZ6lpE.js";import"./FormHelperText-h5eDLKOl.js";import"./formControlState-Dq1zat_P.js";import"./Input-ExwrnSHs.js";import"./InputAdornment-Hg9yPyY-.js";import"./InputLabel-CeQu6qT1.js";import"./InputLabel-B0NhuLFQ.js";import"./FormLabel-Ca9udkQO.js";import"./Select-Ge6oCupU.js";import"./react-is.production.min-DUDD-a5e.js";import"./Menu-CnssX2u1.js";import"./Popover-B7dHjqFW.js";import"./MenuList-CUm--JsH.js";import"./InputAdornmentButton-DRkBhP4F.js";import"./PickersShortcuts-C9tdu9KR.js";import"./ListItem-CazW7o9q.js";import"./shared-BJtrPctm.js";import"./useClearableField-BotAhuxL.js";import"./TextField-BhW_qzQB.js";import"./useMobilePicker-a-5tXJTV.js";import"./DigitalClockSectionItem-Ba4kufi2.js";import"./MenuItem-2XNxwLO8.js";import"./dividerClasses-UQEstWVR.js";import"./listItemTextClasses-CyVyitQV.js";import"./ListItemIcon-CTz5rc-7.js";import"./MenuItem-uN4mkcXt.js";import"./date-time-utils-DrrC5KCR.js";import"./validateTime-B4I7t2yB.js";import"./index-DXf7EplP.js";import"./ListItemText-CDFTHr1G.js";import"./index-Bu4DXql-.js";import"./Dot-B-sjopOf.js";import"./ListItemSecondaryAction-GYuQoGcT.js";const N="MM/dd/yyyy",P="hh:mm a",F="Repeat",G="End",$="Never",B="Every day",Q="Every weekday",X="Every weekend",z="Every ",J="week",Z="Custom",n={NEVER:"never",DAILY:"daily",WEEKDAYS:"weekdays",WEEKENDS:"weekends",WEEKLY:"weekly",CUSTOM:"custom"},r={SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6};function y(l){return typeof l=="number"&&Object.values(r).includes(l)}const ee={[r.SUNDAY]:"S",[r.MONDAY]:"M",[r.TUESDAY]:"T",[r.WEDNESDAY]:"W",[r.THURSDAY]:"T",[r.FRIDAY]:"F",[r.SATURDAY]:"S"},te=l=>y(l)?ee[l]:"",re=[{label:"After 1 week",endAfter:{weeks:1}},{label:"After 1 month",endAfter:{months:1}},{label:"After 3 months",endAfter:{months:3}},{label:"After 1 year",endAfter:{years:1}}],v=m.memo(({className:l,repeatMode:d,customRepeatDays:D,startDateTime:e,endDateTime:E,shortcuts:a=re,minStartDate:A,startDateError:p,startDateHelperText:f,startTimeError:C,startTimeHelperText:T,maxEndDate:R,endDateError:i,endDateHelperText:s,onChangeRepeatMode:u,onChangeCustomRepeatDays:c,onChangeStartDateTime:h,onChangeEndDateTime:S})=>{const M=m.useMemo(()=>{const o=(e==null?void 0:e.weekdayLong)??J;return[{value:n.NEVER,label:$},{value:n.DAILY,label:B},{value:n.WEEKDAYS,label:Q},{value:n.WEEKENDS,label:X},{value:n.WEEKLY,label:`${z}${o}`},{value:n.CUSTOM,label:Z}]},[e==null?void 0:e.weekdayLong]),w=m.useMemo(()=>[n.WEEKLY,n.WEEKENDS,n.DAILY,n.WEEKDAYS,n.CUSTOM].includes(d),[d]),I=m.useCallback(o=>{const b=new Set(D);b.has(o)?b.delete(o):b.add(o),c(b)},[D,c]);return t.jsx("div",{className:V("EventScheduleInput",l),children:t.jsxs(U,{children:[t.jsxs("div",{className:"EventScheduleInput__splitRow",children:[t.jsx(k,{value:e,onChange:h,minDate:A,format:N,error:p,helperText:f}),t.jsx(K,{value:e,onChange:h,format:P,error:C,helperText:T})]}),t.jsxs("div",{className:"EventScheduleInput__repeatSection",children:[t.jsxs("div",{className:"EventScheduleInput__splitRow",children:[t.jsx("div",{className:"EventScheduleInput__splitRowLabel",children:F}),t.jsx(H,{options:M,value:d,onChange:u})]}),d===n.CUSTOM&&t.jsx("div",{className:"EventScheduleInput__chipContainer",children:Object.values(r).map(o=>t.jsx(q,{className:"EventScheduleInput__weekdayChip",label:te(o),onClick:()=>I(o),selected:D.has(o)},o))}),w&&t.jsxs("div",{className:"EventScheduleInput__splitRow",children:[t.jsx("div",{className:"EventScheduleInput__splitRowLabel",children:G}),t.jsx(k,{value:E,onChange:S,format:N,minDate:e||void 0,maxDate:R,error:i,helperText:s,slotProps:{shortcuts:{label:"Quick Select",isValid:o=>!O(o),items:a.map(o=>({label:o.label,getValue:()=>(e==null?void 0:e.plus(o.endAfter))||null}))}}})]})]})]})})});v.displayName="EventScheduleInput";try{v.displayName="EventScheduleInput",v.__docgenInfo={description:"",displayName:"EventScheduleInput",props:{shortcuts:{defaultValue:null,description:"",name:"shortcuts",required:!1,type:{name:"EventScheduleShortcutItem[]"}},repeatMode:{defaultValue:null,description:"",name:"repeatMode",required:!0,type:{name:"enum",value:[{value:'"never"'},{value:'"daily"'},{value:'"weekdays"'},{value:'"weekends"'},{value:'"weekly"'},{value:'"custom"'}]}},customRepeatDays:{defaultValue:null,description:"",name:"customRepeatDays",required:!0,type:{name:"Set<Weekday>"}},startDateTime:{defaultValue:null,description:"",name:"startDateTime",required:!0,type:{name:"DateTime<boolean> | null"}},endDateTime:{defaultValue:null,description:"",name:"endDateTime",required:!0,type:{name:"DateTime<boolean> | null"}},startDateError:{defaultValue:null,description:"",name:"startDateError",required:!1,type:{name:"boolean"}},startDateHelperText:{defaultValue:null,description:"",name:"startDateHelperText",required:!1,type:{name:"string"}},startTimeError:{defaultValue:null,description:"",name:"startTimeError",required:!1,type:{name:"boolean"}},startTimeHelperText:{defaultValue:null,description:"",name:"startTimeHelperText",required:!1,type:{name:"string"}},minStartDate:{defaultValue:null,description:"",name:"minStartDate",required:!1,type:{name:"DateTime<boolean>"}},endDateError:{defaultValue:null,description:"",name:"endDateError",required:!1,type:{name:"boolean"}},endDateHelperText:{defaultValue:null,description:"",name:"endDateHelperText",required:!1,type:{name:"string"}},maxEndDate:{defaultValue:null,description:"",name:"maxEndDate",required:!1,type:{name:"DateTime<boolean>"}},onChangeRepeatMode:{defaultValue:null,description:"",name:"onChangeRepeatMode",required:!0,type:{name:"(repeatMode: RepeatMode) => void"}},onChangeCustomRepeatDays:{defaultValue:null,description:"",name:"onChangeCustomRepeatDays",required:!0,type:{name:"(customRepeatDays: Set<Weekday>) => void"}},onChangeStartDateTime:{defaultValue:null,description:"",name:"onChangeStartDateTime",required:!0,type:{name:"(startDateTime: DateTime<boolean> | null) => void"}},onChangeEndDateTime:{defaultValue:null,description:"",name:"onChangeEndDateTime",required:!0,type:{name:"(endDateTime: DateTime<boolean> | null) => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const ar={title:"Design System/Composite Components/EventScheduleInput",tags:["autodocs"],component:v,decorators:[l=>t.jsx(L,{children:t.jsx(l,{})})],render:l=>{const[d,D]=m.useState(n.NEVER),[e,E]=m.useState(new Set),[a,A]=m.useState(null),[p,f]=m.useState(null),C=m.useMemo(()=>{if(p&&a){if(p.toMillis()<a.toMillis())return{error:!0,helperText:"End date must be after Start date"};if(p.toMillis()>a.plus({years:1}).toMillis())return{error:!0,helperText:"Event duration cannot exceed 1 year"}}return{error:!1,helperText:void 0}},[a,p]),T=m.useCallback(i=>{var c;let s=new Set;const u=(c=a==null?void 0:a.weekdayLong)==null?void 0:c.toLowerCase();switch(i){case"custom":s=new Set(e),y(u)&&s.add(u);break;case"daily":s=new Set(Object.values(r));break;case"weekdays":s=new Set([r.MONDAY,r.TUESDAY,r.WEDNESDAY,r.THURSDAY,r.FRIDAY]);break;case"weekends":s=new Set([r.SATURDAY,r.SUNDAY]);break;case"weekly":case"never":y(u)&&(s=new Set([u]));break;default:j.exhaustiveGuard(i)}D(i),E(s)},[e,a]),R=m.useCallback(i=>{var s,u;if(Y.isDateTime(i)&&(!p||p.toMillis()-i.toMillis()>1e3*60*60*24*365)&&f(Y.fromObject(i.toObject()).plus({years:1})),A(i),d===n.CUSTOM){const c=(s=i==null?void 0:i.weekdayLong)==null?void 0:s.toLowerCase(),h=(u=a==null?void 0:a.weekdayLong)==null?void 0:u.toLowerCase(),S=new Set(e);y(h)&&S.delete(h),y(c)&&S.add(c),E(S)}},[a,p,d,e,f,A,E]);return t.jsx(v,{...l,repeatMode:d,customRepeatDays:e,startDateTime:a,endDateTime:p,onChangeRepeatMode:T,onChangeCustomRepeatDays:E,onChangeStartDateTime:R,onChangeEndDateTime:f,endDateError:C.error,endDateHelperText:C.helperText})}},x={};var g,W,_;x.parameters={...x.parameters,docs:{...(g=x.parameters)==null?void 0:g.docs,source:{originalSource:"{}",...(_=(W=x.parameters)==null?void 0:W.docs)==null?void 0:_.source}}};const nr=["Default"];export{x as Default,nr as __namedExportsOrder,ar as default};
