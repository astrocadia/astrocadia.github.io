import{c as C,b as _r}from"./index-Dl6G-zuu.js";import{c as vr}from"./index-B8_SLiQy.js";var mr={},qt={},ze={};Object.defineProperty(ze,"__esModule",{value:!0});ze.COMPONENT_CATEGORIES=void 0;ze.COMPONENT_CATEGORIES={software:"software",hardware:"hardware"};var Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.HARDWARE_ERRORS=Ne.HARDWARE_TEXT=Ne.HARDWARE_COMMANDS=void 0;Ne.HARDWARE_COMMANDS={HOST:"host",REBOOT:"reboot",SLEEP:"sleep",GET:"get",DFU:"dfu",CONTROL:"control",IDENTIFY:"identify",ERROR:"error",ACKNOWLEDGE:"acknowledge"};Ne.HARDWARE_TEXT={REQUEST:"request"};Ne.HARDWARE_ERRORS={E_NO_HW_ID:"E_NO_HW_ID",NOT_AUTHED:"NOT_AUTHED"};var ke={};Object.defineProperty(ke,"__esModule",{value:!0});ke.LOG_LEVELS=void 0;ke.LOG_LEVELS={ERROR:"error",WARN:"warn",INFO:"info",HTTP:"http",VERBOSE:"verbose",DEBUG:"debug",SILLY:"silly"};var et={};Object.defineProperty(et,"__esModule",{value:!0});et.NOTIFICATION_TYPES=void 0;et.NOTIFICATION_TYPES={notify:"notify",notify_op_mode:"notify_op_mode",notify_connected:"notify_connected",notify_error_logs:"notify_error_logs",notify_exhibit_health:"notify_exhibit_health",notify_on_delete:"notify_on_delete",notify_scene_changes:"notify_scene_changes",notify_hardware_change:"notify_hardware_change",notify_hardware_notification:"notify_hardware_notification"};var Gt={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.SOCKETS=i.SOCKET_EVENT_TYPE=void 0,i.SOCKET_EVENT_TYPE={HANDSHAKE:"HANDSHAKE",HANDSHAKE_SUCCESSFUL:"HANDSHAKE_SUCCESSFUL",SUBSCRIBE:"SUBSCRIBE",SUBSCRIBE_MULTIPLE_EXHIBITS:"SUBSCRIBE_MULTIPLE_EXHIBITS",UNSUBSCRIBE_MULTIPLE_EXHIBITS:"UNSUBSCRIBE_MULTIPLE_EXHIBITS",SUBSCRIBE_MULTIPLE_HARDWARE:"SUBSCRIBE_MULTIPLE_HARDWARE",UNSUBSCRIBE_MULTIPLE_HARDWARE:"UNSUBSCRIBE_MULTIPLE_HARDWARE",SUBSCRIBE_MULTIPLE_EXHIBITS_AND_HARDWARE:"SUBSCRIBE_MULTIPLE_EXHIBITS_AND_HARDWARE",UNSUBSCRIBE_MULTIPLE_EXHIBITS_AND_HARDWARE:"UNSUBSCRIBE_MULTIPLE_EXHIBITS_AND_HARDWARE",SDK:"SDK",ERROR:"ERROR",FRONTEND:"FRONTEND",EXHIBIT_ONLINE:"EXHIBIT_ONLINE",EXHIBIT_OFFLINE:"EXHIBIT_OFFLINE",EXHIBIT_HEALTH_UPDATED:"EXHIBIT_HEALTH_UPDATED",CONTROL_RECEIVED:"CONTROL_RECEIVED",SETTING_RECEIVED:"SETTING_RECEIVED",SETTING_LIST_RECEIVED:"SETTING_LIST_RECEIVED",SETTING_LIST_ITEM_DELETED:"SETTING_LIST_ITEM_DELETED",STATUS_RECEIVED:"STATUS_RECEIVED",OP_MODE_RECEIVED:"OP_MODE_RECEIVED",CONTROL_DEBUG_RECEIVED:"CONTROL_DEBUG_RECEIVED",CLOSE_SDK_CONNECTION:"CLOSE_SDK_CONNECTION",NEW_MANIFEST:"NEW_MANIFEST",HARDWARE_ONLINE:"HARDWARE_ONLINE",HARDWARE_OFFLINE:"HARDWARE_OFFLINE",HARDWARE_UPDATED:"HARDWARE_UPDATED",HARDWARE_LOG:"HARDWARE_LOG",HARDWARE_HEARTBEAT:"HARDWARE_HEARTBEAT",HARDWARE_PROPERTY_RECEIVED:"HARDWARE_PROPERTY_RECEIVED",MQTT_PATH_UPDATED:"MQTT_PATH_UPDATED",EXHIBIT_LOG:"EXHIBIT_LOG",EXHIBIT_TOUCHLESS_SESSION_RECEIVED:"EXHIBIT_TOUCHLESS_SESSION_RECEIVED",EXHIBIT_TOUCHLESS_TOKEN_ROTATED:"EXHIBIT_TOUCHLESS_TOKEN_ROTATED",PERIPH_EVENT:"PERIPH_EVENT",FILE_UPLOADED:"FILE_UPLOADED",FILE_DELETED:"FILE_DELETED",READY:"READY",HARDWARE_CONNECTION_TO_EXHIBIT_UPDATED:"HARDWARE_CONNECTION_TO_EXHIBIT_UPDATED",COMPONENT_ADDED_TO_EXHIBIT:"COMPONENT_ADDED_TO_EXHIBIT",COMPONENT_REMOVED_FROM_EXHIBIT:"COMPONENT_REMOVED_FROM_EXHIBIT",COMPONENT_CONNECTED:"COMPONENT_CONNECTED",COMPONENT_DISCONNECTED:"COMPONENT_DISCONNECTED",COMPONENT_PROPERTY_RECEIVED:"COMPONENT_PROPERTY_RECEIVED"},i.SOCKETS=Object.assign({SERVER_PING_MS:10*1e3,SERVER_HANDSHAKE_DISCONNECT_MS:2*1e3,SDK_OFFLINE_MS:11*1e3,SDK_RECONNECT_DELAY_MS:3*1e3},i.SOCKET_EVENT_TYPE)})(Gt);(function(i){var e=C&&C.__createBinding||(Object.create?function(f,E,g,d){d===void 0&&(d=g);var h=Object.getOwnPropertyDescriptor(E,g);(!h||("get"in h?!E.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return E[g]}}),Object.defineProperty(f,d,h)}:function(f,E,g,d){d===void 0&&(d=g),f[d]=E[g]}),n=C&&C.__exportStar||function(f,E){for(var g in f)g!=="default"&&!Object.prototype.hasOwnProperty.call(E,g)&&e(E,f,g)};Object.defineProperty(i,"__esModule",{value:!0}),n(ze,i),n(Ne,i),n(ke,i),n(et,i),n(Gt,i)})(qt);var Wt={},Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});var xe={},mt={exports:{}},Me=typeof Reflect=="object"?Reflect:null,Ft=Me&&typeof Me.apply=="function"?Me.apply:function(e,n,f){return Function.prototype.apply.call(e,n,f)},Ye;Me&&typeof Me.ownKeys=="function"?Ye=Me.ownKeys:Object.getOwnPropertySymbols?Ye=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Ye=function(e){return Object.getOwnPropertyNames(e)};function Tr(i){console&&console.warn&&console.warn(i)}var Xt=Number.isNaN||function(e){return e!==e};function k(){k.init.call(this)}mt.exports=k;mt.exports.once=Ir;k.EventEmitter=k;k.prototype._events=void 0;k.prototype._eventsCount=0;k.prototype._maxListeners=void 0;var Lt=10;function tt(i){if(typeof i!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i)}Object.defineProperty(k,"defaultMaxListeners",{enumerable:!0,get:function(){return Lt},set:function(i){if(typeof i!="number"||i<0||Xt(i))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+i+".");Lt=i}});k.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};k.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Xt(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Jt(i){return i._maxListeners===void 0?k.defaultMaxListeners:i._maxListeners}k.prototype.getMaxListeners=function(){return Jt(this)};k.prototype.emit=function(e){for(var n=[],f=1;f<arguments.length;f++)n.push(arguments[f]);var E=e==="error",g=this._events;if(g!==void 0)E=E&&g.error===void 0;else if(!E)return!1;if(E){var d;if(n.length>0&&(d=n[0]),d instanceof Error)throw d;var h=new Error("Unhandled error."+(d?" ("+d.message+")":""));throw h.context=d,h}var b=g[e];if(b===void 0)return!1;if(typeof b=="function")Ft(b,this,n);else for(var F=b.length,N=er(b,F),f=0;f<F;++f)Ft(N[f],this,n);return!0};function Zt(i,e,n,f){var E,g,d;if(tt(n),g=i._events,g===void 0?(g=i._events=Object.create(null),i._eventsCount=0):(g.newListener!==void 0&&(i.emit("newListener",e,n.listener?n.listener:n),g=i._events),d=g[e]),d===void 0)d=g[e]=n,++i._eventsCount;else if(typeof d=="function"?d=g[e]=f?[n,d]:[d,n]:f?d.unshift(n):d.push(n),E=Jt(i),E>0&&d.length>E&&!d.warned){d.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+d.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=i,h.type=e,h.count=d.length,Tr(h)}return i}k.prototype.addListener=function(e,n){return Zt(this,e,n,!1)};k.prototype.on=k.prototype.addListener;k.prototype.prependListener=function(e,n){return Zt(this,e,n,!0)};function Ar(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Yt(i,e,n){var f={fired:!1,wrapFn:void 0,target:i,type:e,listener:n},E=Ar.bind(f);return E.listener=n,f.wrapFn=E,E}k.prototype.once=function(e,n){return tt(n),this.on(e,Yt(this,e,n)),this};k.prototype.prependOnceListener=function(e,n){return tt(n),this.prependListener(e,Yt(this,e,n)),this};k.prototype.removeListener=function(e,n){var f,E,g,d,h;if(tt(n),E=this._events,E===void 0)return this;if(f=E[e],f===void 0)return this;if(f===n||f.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete E[e],E.removeListener&&this.emit("removeListener",e,f.listener||n));else if(typeof f!="function"){for(g=-1,d=f.length-1;d>=0;d--)if(f[d]===n||f[d].listener===n){h=f[d].listener,g=d;break}if(g<0)return this;g===0?f.shift():Nr(f,g),f.length===1&&(E[e]=f[0]),E.removeListener!==void 0&&this.emit("removeListener",e,h||n)}return this};k.prototype.off=k.prototype.removeListener;k.prototype.removeAllListeners=function(e){var n,f,E;if(f=this._events,f===void 0)return this;if(f.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):f[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete f[e]),this;if(arguments.length===0){var g=Object.keys(f),d;for(E=0;E<g.length;++E)d=g[E],d!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=f[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(E=n.length-1;E>=0;E--)this.removeListener(e,n[E]);return this};function Qt(i,e,n){var f=i._events;if(f===void 0)return[];var E=f[e];return E===void 0?[]:typeof E=="function"?n?[E.listener||E]:[E]:n?Pr(E):er(E,E.length)}k.prototype.listeners=function(e){return Qt(this,e,!0)};k.prototype.rawListeners=function(e){return Qt(this,e,!1)};k.listenerCount=function(i,e){return typeof i.listenerCount=="function"?i.listenerCount(e):zt.call(i,e)};k.prototype.listenerCount=zt;function zt(i){var e=this._events;if(e!==void 0){var n=e[i];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}k.prototype.eventNames=function(){return this._eventsCount>0?Ye(this._events):[]};function er(i,e){for(var n=new Array(e),f=0;f<e;++f)n[f]=i[f];return n}function Nr(i,e){for(;e+1<i.length;e++)i[e]=i[e+1];i.pop()}function Pr(i){for(var e=new Array(i.length),n=0;n<e.length;++n)e[n]=i[n].listener||i[n];return e}function Ir(i,e){return new Promise(function(n,f){function E(d){i.removeListener(e,g),f(d)}function g(){typeof i.removeListener=="function"&&i.removeListener("error",E),n([].slice.call(arguments))}tr(i,e,g,{once:!0}),e!=="error"&&br(i,E,{once:!0})})}function br(i,e,n){typeof i.on=="function"&&tr(i,"error",e,n)}function tr(i,e,n,f){if(typeof i.on=="function")f.once?i.once(e,n):i.on(e,n);else if(typeof i.addEventListener=="function")i.addEventListener(e,function E(g){f.once&&i.removeEventListener(e,E),n(g)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof i)}var Tt=mt.exports,at={},de={},Ve={},Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.isErrorResponseBody=Ue.isSuccessResponseBody=void 0;function Or(i){return i.response==="success"}Ue.isSuccessResponseBody=Or;function Fr(i){return typeof i.message=="string"}Ue.isErrorResponseBody=Fr;var rr={},pt={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.isV2Source=i.v2GetRegistrationEndpoint=i.v2PropPubEndpoint=i.v2PropSetEndpoint=i.v2PropGetEndpoint=i.V2ApiSubscribedTopics=i.V2ApiTopics=i.V2DeviceCommandTopic=i.V2SystemInfoTopic=i.V2Sources=i.V2PropertyTypes=i.V2Capabilities=i.V2SystemTypes=i.V2ApiVersions=void 0,i.V2ApiVersions=[2],i.V2SystemTypes=["generic","presence"],i.V2Capabilities=["OTA","identify","filesystem"],i.V2PropertyTypes=["gmbnd_primitive","gmbnd_color","gmbnd_led"],i.V2Sources={SYSTEM:"system",APP:"app"},i.V2SystemInfoTopic="system/info",i.V2DeviceCommandTopic="device/command",i.V2ApiTopics=[i.V2SystemInfoTopic,"system/register/prop","system/prop","system/connections","app/info","app/register/prop","app/prop","app/log","system/log"],i.V2ApiSubscribedTopics=i.V2ApiTopics.map(d=>((d==="app/prop"||d==="system/prop")&&(d+="/#"),`+/${d}`));function e(d,h,b){return`${d}/${b}/prop/get/:/${h}`}i.v2PropGetEndpoint=e;function n(d,h,b){return`${d}/${b}/prop/set/:/${h}`}i.v2PropSetEndpoint=n;function f(d,h,b){return`${d}/${b}/prop/pub/:/${h}`}i.v2PropPubEndpoint=f;function E(d,h){return`${d}/${h}/get`}i.v2GetRegistrationEndpoint=E;function g(d){return Object.values(i.V2Sources).includes(d)}i.isV2Source=g})(pt);(function(i){var e=C&&C.__createBinding||(Object.create?function(d,h,b,F){F===void 0&&(F=b);var N=Object.getOwnPropertyDescriptor(h,b);(!N||("get"in N?!h.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return h[b]}}),Object.defineProperty(d,F,N)}:function(d,h,b,F){F===void 0&&(F=b),d[F]=h[b]}),n=C&&C.__exportStar||function(d,h){for(var b in d)b!=="default"&&!Object.prototype.hasOwnProperty.call(h,b)&&e(h,d,b)};Object.defineProperty(i,"__esModule",{value:!0}),i.isMQTTInitialRegistrationTopic=i.isApiVersion=i.AllPropertyTypes=i.AllSubscribedMQTTTopics=i.AllMQTTTopics=i.AllMQTTLastWillAndTestamentTopics=i.AllMQTTInitialRegistrationTopics=i.AllApiVersions=i.AllSources=void 0,n(pt,i);const f=pt;i.AllSources=f.V2Sources,i.AllApiVersions=[...f.V2ApiVersions],i.AllMQTTInitialRegistrationTopics=[f.V2SystemInfoTopic],i.AllMQTTLastWillAndTestamentTopics=[f.V2SystemInfoTopic],i.AllMQTTTopics=[...f.V2ApiTopics],i.AllSubscribedMQTTTopics=[...f.V2ApiSubscribedTopics],i.AllPropertyTypes=[...f.V2PropertyTypes];function E(d){return i.AllApiVersions.includes(d)}i.isApiVersion=E;function g(d){return i.AllMQTTInitialRegistrationTopics.includes(d)}i.isMQTTInitialRegistrationTopic=g})(rr);(function(i){var e=C&&C.__createBinding||(Object.create?function(f,E,g,d){d===void 0&&(d=g);var h=Object.getOwnPropertyDescriptor(E,g);(!h||("get"in h?!E.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return E[g]}}),Object.defineProperty(f,d,h)}:function(f,E,g,d){d===void 0&&(d=g),f[d]=E[g]}),n=C&&C.__exportStar||function(f,E){for(var g in f)g!=="default"&&!Object.prototype.hasOwnProperty.call(E,g)&&e(E,f,g)};Object.defineProperty(i,"__esModule",{value:!0}),n(Ue,i),n(rr,i)})(Ve);var ne={},Lr={},Br=C&&C.__awaiter||function(i,e,n,f){function E(g){return g instanceof n?g:new n(function(d){d(g)})}return new(n||(n=Promise))(function(g,d){function h(N){try{F(f.next(N))}catch(R){d(R)}}function b(N){try{F(f.throw(N))}catch(R){d(R)}}function F(N){N.done?g(N.value):E(N.value).then(h,b)}F((f=f.apply(i,e||[])).next())})};Object.defineProperty(ne,"__esModule",{value:!0});ne.waitMs=ne.isValidLogLevel=ne.parseEnvStrOrError=ne.isNonEmptyString=ne.exhaustiveGuard=void 0;const Rr=ke,Sr=(i,e)=>{throw new Error(e||"Exhaustive guard failed")};ne.exhaustiveGuard=Sr;const Cr=i=>typeof i=="string"&&i!=="";ne.isNonEmptyString=Cr;const Mr=i=>{const e=Lr[i]||null;if(e==null)throw Error(`Environment variable [${i}] must be provided and was not`);return e};ne.parseEnvStrOrError=Mr;const xr=i=>!!Object.values(Rr.LOG_LEVELS).includes(i);ne.isValidLogLevel=xr;const Ur=i=>Br(void 0,void 0,void 0,function*(){return new Promise(e=>setTimeout(()=>{e()},i))});ne.waitMs=Ur;var Dr=C&&C.__awaiter||function(i,e,n,f){function E(g){return g instanceof n?g:new n(function(d){d(g)})}return new(n||(n=Promise))(function(g,d){function h(N){try{F(f.next(N))}catch(R){d(R)}}function b(N){try{F(f.throw(N))}catch(R){d(R)}}function F(N){N.done?g(N.value):E(N.value).then(h,b)}F((f=f.apply(i,e||[])).next())})};Object.defineProperty(de,"__esModule",{value:!0});de.publishCommand=de.validateComponentId=de.validateHardwareComponentOrder=de.validateV1ExhibitId=de.validateHardwareComponentName=void 0;const Vr=vr,Hr=Ve,$r=ne,jr=i=>{if(typeof i!="string")throw new Error("name is not a string");if(i==="")throw new Error("name is an empty string")};de.validateHardwareComponentName=jr;const kr=i=>{if(typeof i=="number"&&i%1===0&&i>0)return i;if(typeof i=="string"&&i.match(/^[1-9]([0-9]?)+$/))return parseInt(i);throw new Error("exhibitId is not a positive integer or positive integer string")};de.validateV1ExhibitId=kr;const qr=i=>{if(!(typeof i=="number"&&i%1===0&&i>=0))throw new Error("order is not a positive integer or 0")};de.validateHardwareComponentOrder=qr;const Gr=i=>{if(!(0,Vr.validate)(i))throw new Error("componentID is not a valid id")};de.validateComponentId=Gr;const Wr=(i,e,n,...f)=>Dr(void 0,[i,e,n,...f],void 0,function*(E,g,d,h=void 0,b=void 0,F){let N="";switch(F){case 2:N=`${g}/${Hr.V2DeviceCommandTopic}`;break;default:(0,$r.exhaustiveGuard)(F)}yield E.publish(N,JSON.stringify({command:d,option:h,value:b}))});de.publishCommand=Wr;var rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.GbLogger=void 0;class Kr{error(e){console.error(typeof e=="object"?JSON.stringify(e,null,2):e)}warn(e){console.warn(typeof e=="object"?JSON.stringify(e,null,2):e)}info(e){console.info(typeof e=="object"?JSON.stringify(e,null,2):e)}http(e){console.log(typeof e=="object"?JSON.stringify(e,null,2):e)}verbose(e){console.log(typeof e=="object"?JSON.stringify(e,null,2):e)}debug(e){console.debug(typeof e=="object"?JSON.stringify(e,null,2):e)}silly(e){console.log(typeof e=="object"?JSON.stringify(e,null,2):e)}}class Xr{constructor(e){(e!=null&&e.hideUtc||e!=null&&e.level||e!=null&&e.name||e!=null&&e.tz)&&console.warn("Opts hideUtc, level, name and tz are not supported anymore, instead you should inject your logger instance."),this.logger=(e==null?void 0:e.logger)||new Kr}error(e){this.logger.error(e)}warn(e){this.logger.warn(e)}info(e){this.logger.info(e)}http(e){this.logger.http(e)}verbose(e){this.logger.verbose(e)}debug(e){this.logger.debug(e)}silly(e){this.logger.silly(e)}addTransport(e){this.logger.addTransport?this.logger.addTransport(e):console.warn("Logger does not support addTransport anymore.")}removeTransport(e){this.logger.removeTransport?this.logger.removeTransport(e):console.warn("Logger does not support removeTransport anymore.")}}rt.GbLogger=Xr;var ye={},ut={},qe={},We=C&&C.__awaiter||function(i,e,n,f){function E(g){return g instanceof n?g:new n(function(d){d(g)})}return new(n||(n=Promise))(function(g,d){function h(N){try{F(f.next(N))}catch(R){d(R)}}function b(N){try{F(f.throw(N))}catch(R){d(R)}}function F(N){N.done?g(N.value):E(N.value).then(h,b)}F((f=f.apply(i,e||[])).next())})};Object.defineProperty(qe,"__esModule",{value:!0});qe.lockRegistrationCacheAndPerformAction=void 0;function Jr(i,e,n,f){return We(this,void 0,void 0,function*(){const E=new Map;function g(){return We(this,void 0,void 0,function*(){Promise.all(Array.from(E.keys()).map(h=>We(this,void 0,void 0,function*(){yield i.locks[h].unlock(n),E.delete(h)})))})}try{yield Promise.all(Array.from(e).map(h=>We(this,void 0,void 0,function*(){yield i.locks[h].lock(n),E.set(h,h)})))}catch{throw yield g(),new Error(`Failed to acquire ${Array.from(e).join(" registration lock and ")} registration lock for componentId: ${n}`)}let d;try{d=yield f()}catch(h){throw yield g(),h}return yield g(),d})}qe.lockRegistrationCacheAndPerformAction=Jr;var ht={},$e={};const Zr={},Yr=Object.freeze(Object.defineProperty({__proto__:null,default:Zr},Symbol.toStringTag,{value:"Module"})),At=_r(Yr);var ir={exports:{}};(function(i,e){var n=function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var E=null;try{E=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function g(A,c,B){this.low=A|0,this.high=c|0,this.unsigned=!!B}g.prototype.__isLong__,Object.defineProperty(g.prototype,"__isLong__",{value:!0});function d(A){return(A&&A.__isLong__)===!0}function h(A){var c=Math.clz32(A&-A);return A?31-c:c}g.isLong=d;var b={},F={};function N(A,c){var B,H,X;return c?(A>>>=0,(X=0<=A&&A<256)&&(H=F[A],H)?H:(B=I(A,0,!0),X&&(F[A]=B),B)):(A|=0,(X=-128<=A&&A<128)&&(H=b[A],H)?H:(B=I(A,A<0?-1:0,!1),X&&(b[A]=B),B))}g.fromInt=N;function R(A,c){if(isNaN(A))return c?x:M;if(c){if(A<0)return x;if(A>=_)return ae}else{if(A<=-O)return j;if(A+1>=O)return _e}return A<0?R(-A,c).neg():I(A%u|0,A/u|0,c)}g.fromNumber=R;function I(A,c,B){return new g(A,c,B)}g.fromBits=I;var w=Math.pow;function v(A,c,B){if(A.length===0)throw Error("empty string");if(typeof c=="number"?(B=c,c=!1):c=!!c,A==="NaN"||A==="Infinity"||A==="+Infinity"||A==="-Infinity")return c?x:M;if(B=B||10,B<2||36<B)throw RangeError("radix");var H;if((H=A.indexOf("-"))>0)throw Error("interior hyphen");if(H===0)return v(A.substring(1),c,B).neg();for(var X=R(w(B,8)),U=M,V=0;V<A.length;V+=8){var re=Math.min(8,A.length-V),oe=parseInt(A.substring(V,V+re),B);if(re<8){var te=R(w(B,re));U=U.mul(te).add(R(oe))}else U=U.mul(X),U=U.add(R(oe))}return U.unsigned=c,U}g.fromString=v;function s(A,c){return typeof A=="number"?R(A,c):typeof A=="string"?v(A,c):I(A.low,A.high,typeof c=="boolean"?c:A.unsigned)}g.fromValue=s;var p=65536,a=1<<24,u=p*p,_=u*u,O=_/2,S=N(a),M=N(0);g.ZERO=M;var x=N(0,!0);g.UZERO=x;var $=N(1);g.ONE=$;var ee=N(1,!0);g.UONE=ee;var fe=N(-1);g.NEG_ONE=fe;var _e=I(-1,2147483647,!1);g.MAX_VALUE=_e;var ae=I(-1,-1,!0);g.MAX_UNSIGNED_VALUE=ae;var j=I(0,-2147483648,!1);g.MIN_VALUE=j;var P=g.prototype;P.toInt=function(){return this.unsigned?this.low>>>0:this.low},P.toNumber=function(){return this.unsigned?(this.high>>>0)*u+(this.low>>>0):this.high*u+(this.low>>>0)},P.toString=function(c){if(c=c||10,c<2||36<c)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(j)){var B=R(c),H=this.div(B),X=H.mul(B).sub(this);return H.toString(c)+X.toInt().toString(c)}else return"-"+this.neg().toString(c);for(var U=R(w(c,6),this.unsigned),V=this,re="";;){var oe=V.div(U),te=V.sub(oe.mul(U)).toInt()>>>0,Z=te.toString(c);if(V=oe,V.isZero())return Z+re;for(;Z.length<6;)Z="0"+Z;re=""+Z+re}},P.getHighBits=function(){return this.high},P.getHighBitsUnsigned=function(){return this.high>>>0},P.getLowBits=function(){return this.low},P.getLowBitsUnsigned=function(){return this.low>>>0},P.getNumBitsAbs=function(){if(this.isNegative())return this.eq(j)?64:this.neg().getNumBitsAbs();for(var c=this.high!=0?this.high:this.low,B=31;B>0&&!(c&1<<B);B--);return this.high!=0?B+33:B+1},P.isZero=function(){return this.high===0&&this.low===0},P.eqz=P.isZero,P.isNegative=function(){return!this.unsigned&&this.high<0},P.isPositive=function(){return this.unsigned||this.high>=0},P.isOdd=function(){return(this.low&1)===1},P.isEven=function(){return(this.low&1)===0},P.equals=function(c){return d(c)||(c=s(c)),this.unsigned!==c.unsigned&&this.high>>>31===1&&c.high>>>31===1?!1:this.high===c.high&&this.low===c.low},P.eq=P.equals,P.notEquals=function(c){return!this.eq(c)},P.neq=P.notEquals,P.ne=P.notEquals,P.lessThan=function(c){return this.comp(c)<0},P.lt=P.lessThan,P.lessThanOrEqual=function(c){return this.comp(c)<=0},P.lte=P.lessThanOrEqual,P.le=P.lessThanOrEqual,P.greaterThan=function(c){return this.comp(c)>0},P.gt=P.greaterThan,P.greaterThanOrEqual=function(c){return this.comp(c)>=0},P.gte=P.greaterThanOrEqual,P.ge=P.greaterThanOrEqual,P.compare=function(c){if(d(c)||(c=s(c)),this.eq(c))return 0;var B=this.isNegative(),H=c.isNegative();return B&&!H?-1:!B&&H?1:this.unsigned?c.high>>>0>this.high>>>0||c.high===this.high&&c.low>>>0>this.low>>>0?-1:1:this.sub(c).isNegative()?-1:1},P.comp=P.compare,P.negate=function(){return!this.unsigned&&this.eq(j)?j:this.not().add($)},P.neg=P.negate,P.add=function(c){d(c)||(c=s(c));var B=this.high>>>16,H=this.high&65535,X=this.low>>>16,U=this.low&65535,V=c.high>>>16,re=c.high&65535,oe=c.low>>>16,te=c.low&65535,Z=0,se=0,K=0,ie=0;return ie+=U+te,K+=ie>>>16,ie&=65535,K+=X+oe,se+=K>>>16,K&=65535,se+=H+re,Z+=se>>>16,se&=65535,Z+=B+V,Z&=65535,I(K<<16|ie,Z<<16|se,this.unsigned)},P.subtract=function(c){return d(c)||(c=s(c)),this.add(c.neg())},P.sub=P.subtract,P.multiply=function(c){if(this.isZero())return this;if(d(c)||(c=s(c)),E){var B=E.mul(this.low,this.high,c.low,c.high);return I(B,E.get_high(),this.unsigned)}if(c.isZero())return this.unsigned?x:M;if(this.eq(j))return c.isOdd()?j:M;if(c.eq(j))return this.isOdd()?j:M;if(this.isNegative())return c.isNegative()?this.neg().mul(c.neg()):this.neg().mul(c).neg();if(c.isNegative())return this.mul(c.neg()).neg();if(this.lt(S)&&c.lt(S))return R(this.toNumber()*c.toNumber(),this.unsigned);var H=this.high>>>16,X=this.high&65535,U=this.low>>>16,V=this.low&65535,re=c.high>>>16,oe=c.high&65535,te=c.low>>>16,Z=c.low&65535,se=0,K=0,ie=0,Pe=0;return Pe+=V*Z,ie+=Pe>>>16,Pe&=65535,ie+=U*Z,K+=ie>>>16,ie&=65535,ie+=V*te,K+=ie>>>16,ie&=65535,K+=X*Z,se+=K>>>16,K&=65535,K+=U*te,se+=K>>>16,K&=65535,K+=V*oe,se+=K>>>16,K&=65535,se+=H*Z+X*te+U*oe+V*re,se&=65535,I(ie<<16|Pe,se<<16|K,this.unsigned)},P.mul=P.multiply,P.divide=function(c){if(d(c)||(c=s(c)),c.isZero())throw Error("division by zero");if(E){if(!this.unsigned&&this.high===-2147483648&&c.low===-1&&c.high===-1)return this;var B=(this.unsigned?E.div_u:E.div_s)(this.low,this.high,c.low,c.high);return I(B,E.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?x:M;var H,X,U;if(this.unsigned){if(c.unsigned||(c=c.toUnsigned()),c.gt(this))return x;if(c.gt(this.shru(1)))return ee;U=x}else{if(this.eq(j)){if(c.eq($)||c.eq(fe))return j;if(c.eq(j))return $;var V=this.shr(1);return H=V.div(c).shl(1),H.eq(M)?c.isNegative()?$:fe:(X=this.sub(c.mul(H)),U=H.add(X.div(c)),U)}else if(c.eq(j))return this.unsigned?x:M;if(this.isNegative())return c.isNegative()?this.neg().div(c.neg()):this.neg().div(c).neg();if(c.isNegative())return this.div(c.neg()).neg();U=M}for(X=this;X.gte(c);){H=Math.max(1,Math.floor(X.toNumber()/c.toNumber()));for(var re=Math.ceil(Math.log(H)/Math.LN2),oe=re<=48?1:w(2,re-48),te=R(H),Z=te.mul(c);Z.isNegative()||Z.gt(X);)H-=oe,te=R(H,this.unsigned),Z=te.mul(c);te.isZero()&&(te=$),U=U.add(te),X=X.sub(Z)}return U},P.div=P.divide,P.modulo=function(c){if(d(c)||(c=s(c)),E){var B=(this.unsigned?E.rem_u:E.rem_s)(this.low,this.high,c.low,c.high);return I(B,E.get_high(),this.unsigned)}return this.sub(this.div(c).mul(c))},P.mod=P.modulo,P.rem=P.modulo,P.not=function(){return I(~this.low,~this.high,this.unsigned)},P.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},P.clz=P.countLeadingZeros,P.countTrailingZeros=function(){return this.low?h(this.low):h(this.high)+32},P.ctz=P.countTrailingZeros,P.and=function(c){return d(c)||(c=s(c)),I(this.low&c.low,this.high&c.high,this.unsigned)},P.or=function(c){return d(c)||(c=s(c)),I(this.low|c.low,this.high|c.high,this.unsigned)},P.xor=function(c){return d(c)||(c=s(c)),I(this.low^c.low,this.high^c.high,this.unsigned)},P.shiftLeft=function(c){return d(c)&&(c=c.toInt()),(c&=63)===0?this:c<32?I(this.low<<c,this.high<<c|this.low>>>32-c,this.unsigned):I(0,this.low<<c-32,this.unsigned)},P.shl=P.shiftLeft,P.shiftRight=function(c){return d(c)&&(c=c.toInt()),(c&=63)===0?this:c<32?I(this.low>>>c|this.high<<32-c,this.high>>c,this.unsigned):I(this.high>>c-32,this.high>=0?0:-1,this.unsigned)},P.shr=P.shiftRight,P.shiftRightUnsigned=function(c){return d(c)&&(c=c.toInt()),(c&=63)===0?this:c<32?I(this.low>>>c|this.high<<32-c,this.high>>>c,this.unsigned):c===32?I(this.high,0,this.unsigned):I(this.high>>>c-32,0,this.unsigned)},P.shru=P.shiftRightUnsigned,P.shr_u=P.shiftRightUnsigned,P.rotateLeft=function(c){var B;return d(c)&&(c=c.toInt()),(c&=63)===0?this:c===32?I(this.high,this.low,this.unsigned):c<32?(B=32-c,I(this.low<<c|this.high>>>B,this.high<<c|this.low>>>B,this.unsigned)):(c-=32,B=32-c,I(this.high<<c|this.low>>>B,this.low<<c|this.high>>>B,this.unsigned))},P.rotl=P.rotateLeft,P.rotateRight=function(c){var B;return d(c)&&(c=c.toInt()),(c&=63)===0?this:c===32?I(this.high,this.low,this.unsigned):c<32?(B=32-c,I(this.high<<B|this.low>>>c,this.low<<B|this.high>>>c,this.unsigned)):(c-=32,B=32-c,I(this.low<<B|this.high>>>c,this.high<<B|this.low>>>c,this.unsigned))},P.rotr=P.rotateRight,P.toSigned=function(){return this.unsigned?I(this.low,this.high,!1):this},P.toUnsigned=function(){return this.unsigned?this:I(this.low,this.high,!0)},P.toBytes=function(c){return c?this.toBytesLE():this.toBytesBE()},P.toBytesLE=function(){var c=this.high,B=this.low;return[B&255,B>>>8&255,B>>>16&255,B>>>24,c&255,c>>>8&255,c>>>16&255,c>>>24]},P.toBytesBE=function(){var c=this.high,B=this.low;return[c>>>24,c>>>16&255,c>>>8&255,c&255,B>>>24,B>>>16&255,B>>>8&255,B&255]},g.fromBytes=function(c,B,H){return H?g.fromBytesLE(c,B):g.fromBytesBE(c,B)},g.fromBytesLE=function(c,B){return new g(c[0]|c[1]<<8|c[2]<<16|c[3]<<24,c[4]|c[5]<<8|c[6]<<16|c[7]<<24,B)},g.fromBytesBE=function(c,B){return new g(c[4]<<24|c[5]<<16|c[6]<<8|c[7],c[0]<<24|c[1]<<16|c[2]<<8|c[3],B)};var le=g;return f.default=le,"default"in f?f.default:f}({});i.exports=n})(ir);var Qr=ir.exports;const ft=(i,e,n)=>{const f=i.indexOf(0,e),E=Math.min(e+n,f===-1?i.length:f);return i.slice(e,E).toString("utf8")},lt=(i,e,n,f)=>{const E=e.write(i,n,f,"utf8");E<f&&e.fill(0,n+E,n+f)},ct=(i,e,n)=>{let f=i[0];return f>=n&&(f=n-1),e++,i.slice(e,e+f).toString("utf8")},dt=(i,e,n,f)=>{let E=Buffer.alloc(i,"utf8"),g=E.length;g>=f&&(g=f-1),g>255&&(g=255),E[n]=g,E.copy(e,n+1,0,g),e.fill(0,n+1+g,n+f)},Fe=(i,e)=>i.readUInt32LE(e,!0),Le=(i,e)=>i.readUInt32BE(e,!0),Ke=(i,e)=>i.readInt32LE(e,!0),Xe=(i,e)=>i.readInt32BE(e,!0),Be=(i,e,n)=>{e.writeUInt32LE(i,n,!0)},Re=(i,e,n)=>{e.writeUInt32BE(i,n,!0)},Je=(i,e,n)=>{e.writeInt32LE(i,n,!0)},Ze=(i,e,n)=>{e.writeInt32BE(i,n,!0)};function zr(i){const e=i.Buffer,n=i.isLittleEndian===void 0?!0:!!i.isLittleEndian,f=i.is64bit===void 0?!0:!!i.is64bit,E=i.unpackUInt64LE,g=i.unpackUInt64BE,d=i.unpackInt64LE,h=i.unpackInt64BE,b=i.packUInt64LE,F=i.packUInt64BE,N=i.packInt64LE,R=i.packInt64BE,I={x:[1,1,null,null],c:[1,1,(a,u)=>String.fromCharCode(a[u]),(a,u,_)=>{u[_]=a.charCodeAt(0)}],b:[1,1,(a,u)=>a.readInt8(u),(a,u,_)=>{u.writeInt8(a,_,!0)}],B:[1,1,(a,u)=>a[u],(a,u,_)=>{u[_]=a}],h:[2,2,n?(a,u)=>a.readInt16LE(u):(a,u)=>a.readInt16BE(u),n?(a,u,_)=>u.writeInt16LE(a,_,!0):(a,u,_)=>u.writeInt16BE(a,_,!0)],H:[2,2,n?(a,u)=>a.readUInt16LE(u):(a,u)=>a.readUInt16BE(u),n?(a,u,_)=>u.writeUInt16LE(a,_,!0):(a,u,_)=>u.writeUInt16BE(a,_,!0)],i:[4,4,n?Ke:Xe,n?Je:Ze],I:[4,4,n?Fe:Le,n?Be:Re],l:[4,4,n?Ke:Xe,n?Je:Ze],L:[4,4,n?Fe:Le,n?Be:Re],f:[4,4,n?(a,u)=>a.readFloatLE(u):(a,u)=>a.readFloatBE(u),n?(a,u,_)=>u.writeFloatLE(a,_,!0):(a,u,_)=>u.writeFloatBE(a,_,!0)],d:[8,8,n?(a,u)=>a.readDoubleLE(u):(a,u)=>a.readDoubleBE(u),n?(a,u,_)=>u.writeDoubleLE(a,_,!0):(a,u,_)=>u.writeDoubleBE(a,_,!0)],s:[1,1,ft,lt],p:[1,1,ct,dt],P:[f?8:4,f?8:4,n?f?E:Fe:f?g:Le,n?f?b:Be:f?F:Re],q:[8,8,n?d:h,n?N:R],Q:[8,8,n?E:g,n?b:F],"?":[1,1,(a,u)=>a[u]!==0,(a,u,_)=>{u[_]=a?1:0}]},w={x:[1,1,null,null],c:[1,1,(a,u)=>String.fromCharCode(a[u]),(a,u,_)=>{u[_]=a.charCodeAt(0)}],b:[1,1,(a,u)=>a.readInt8(u),(a,u,_)=>{u.writeInt8(a,_,!0)}],B:[1,1,(a,u)=>a[u],(a,u,_)=>{u[_]=a}],h:[2,1,(a,u)=>a.readInt16LE(u),(a,u,_)=>u.writeInt16LE(a,_,!0)],H:[2,1,(a,u)=>a.readUInt16LE(u),(a,u,_)=>u.writeUInt16LE(a,_,!0)],i:[4,1,Ke,Je],I:[4,1,Fe,Be],l:[4,1,Ke,Je],L:[4,1,Fe,Be],f:[4,1,(a,u)=>a.readFloatLE(u),(a,u,_)=>u.writeFloatLE(a,_,!0)],d:[8,1,(a,u)=>a.readDoubleLE(u),(a,u,_)=>u.writeDoubleLE(a,_,!0)],s:[1,1,ft,lt],p:[1,1,ct,dt],P:[f?8:4,1,f?E:Fe,f?b:Be],q:[8,1,d,N],Q:[8,1,E,b],"?":[1,1,(a,u)=>a[u]!==0,(a,u,_)=>{u[_]=a?1:0}]},v={x:[1,1,null,null],c:[1,1,(a,u)=>String.fromCharCode(a[u]),(a,u,_)=>{u[_]=a.charCodeAt(0)}],b:[1,1,(a,u)=>a.readInt8(u),(a,u,_)=>{u.writeInt8(a,_,!0)}],B:[1,1,(a,u)=>a[u],(a,u,_)=>{u[_]=a}],h:[2,1,(a,u)=>a.readInt16BE(u),(a,u,_)=>u.writeInt16BE(a,_,!0)],H:[2,1,(a,u)=>a.readUInt16BE(u),(a,u,_)=>u.writeUInt16BE(a,_,!0)],i:[4,1,Xe,Ze],I:[4,1,Le,Re],l:[4,1,Xe,Ze],L:[4,1,Le,Re],f:[4,1,(a,u)=>a.readFloatBE(u),(a,u,_)=>u.writeFloatBE(a,_,!0)],d:[8,1,(a,u)=>a.readDoubleBE(u),(a,u,_)=>u.writeDoubleBE(a,_,!0)],s:[1,1,ft,lt],p:[1,1,ct,dt],P:[f?8:4,1,f?g:Le,f?F:Re],q:[8,1,h,R],Q:[8,1,g,F],"?":[1,1,(a,u)=>a[u]!==0,(a,u,_)=>{u[_]=a?1:0}]};let s=a=>{let u=a[0],_=!0,O=I;switch(u){case"<":O=w;break;case">":case"!":O=v;break;case"=":O=n?w:v;break;default:_=!1;case"@":O=I;break}return{map:O,skipFirst:_}};class p{static sizeOf(u){let _=0,O=null,S=0,M,x,$,ee,fe=s(u),_e=fe.map;for(fe.skipFirst&&S++,x=u.length;S<x;S++){if(M=u[S],M>="0"&&M<="9"){O=O===null?M:O+M;continue}$=_e[M],$&&(ee=$[1],ee>1&&(_=Math.ceil(_/ee)*ee),O=O?parseInt(O,10):0,M==="s"?_+=O||0:M==="p"?_+=O||1:_+=$[0]*(O||1),O=null)}return _}static unpack(u,_,O){return p.unpackFrom(u,_,O,0)}static unpackFrom(u,_,O,S){let M=[],x=null,$=0,ee=s(u),fe=ee.map;ee.skipFirst&&$++;for(const _e=u.length;$<_e;$++){let ae=u[$];if(ae>="0"&&ae<="9"){x=x===null?ae:x+ae;continue}const j=fe[ae];if(!j)continue;let P=j[0];const le=j[1];le>1&&(S=Math.ceil(S/le)*le),x=x?parseInt(x,10):0;let A;ae==="s"?(A=1,P=x):ae==="p"?(A=1,P=x||1):A=x||1;let c=j[2];for(;A>0;){if(c){if(O&&S+P>=_.length)throw new Error("Reached end of buffer, can't unpack anymore data.");M.push(c(_,S,x))}S+=P,A--}x=null}return M}static pack(u,_,O){Array.isArray(_)||(_=Array.prototype.slice.call(arguments,1),O=!0);let S=e.alloc(p.sizeOf(u)),M=0,x=null,$=0,ee=0,fe=s(u),_e=fe.map;fe.skipFirst&&$++;for(const ae=u.length;$<ae;$++){let j=u[$];if(j>="0"&&j<="9"){x=x===null?j:x+j;continue}const P=_e[j];if(!P)continue;let le=P[0];const A=P[1];A>1&&(M=Math.ceil(M/A)*A),x=x?parseInt(x,10):0;let c;j==="s"?(c=1,le=x):j==="p"?(c=1,le=x||1):c=x||1;let B=P[3];for(;c>0;){if(B){if(O&&ee>=_.length)throw new Error("Reached end of data, no more elements to pack.");B(_[ee],S,M,x),ee++}M+=le,c--}x=null}return S}}return p}var ei=zr,nr={},it={};it.byteLength=ii;it.toByteArray=oi;it.fromByteArray=ui;var me=[],ce=[],ti=typeof Uint8Array<"u"?Uint8Array:Array,gt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Se=0,ri=gt.length;Se<ri;++Se)me[Se]=gt[Se],ce[gt.charCodeAt(Se)]=Se;ce[45]=62;ce[95]=63;function or(i){var e=i.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=i.indexOf("=");n===-1&&(n=e);var f=n===e?0:4-n%4;return[n,f]}function ii(i){var e=or(i),n=e[0],f=e[1];return(n+f)*3/4-f}function ni(i,e,n){return(e+n)*3/4-n}function oi(i){var e,n=or(i),f=n[0],E=n[1],g=new ti(ni(i,f,E)),d=0,h=E>0?f-4:f,b;for(b=0;b<h;b+=4)e=ce[i.charCodeAt(b)]<<18|ce[i.charCodeAt(b+1)]<<12|ce[i.charCodeAt(b+2)]<<6|ce[i.charCodeAt(b+3)],g[d++]=e>>16&255,g[d++]=e>>8&255,g[d++]=e&255;return E===2&&(e=ce[i.charCodeAt(b)]<<2|ce[i.charCodeAt(b+1)]>>4,g[d++]=e&255),E===1&&(e=ce[i.charCodeAt(b)]<<10|ce[i.charCodeAt(b+1)]<<4|ce[i.charCodeAt(b+2)]>>2,g[d++]=e>>8&255,g[d++]=e&255),g}function si(i){return me[i>>18&63]+me[i>>12&63]+me[i>>6&63]+me[i&63]}function ai(i,e,n){for(var f,E=[],g=e;g<n;g+=3)f=(i[g]<<16&16711680)+(i[g+1]<<8&65280)+(i[g+2]&255),E.push(si(f));return E.join("")}function ui(i){for(var e,n=i.length,f=n%3,E=[],g=16383,d=0,h=n-f;d<h;d+=g)E.push(ai(i,d,d+g>h?h:d+g));return f===1?(e=i[n-1],E.push(me[e>>2]+me[e<<4&63]+"==")):f===2&&(e=(i[n-2]<<8)+i[n-1],E.push(me[e>>10]+me[e>>4&63]+me[e<<2&63]+"=")),E.join("")}var Nt={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Nt.read=function(i,e,n,f,E){var g,d,h=E*8-f-1,b=(1<<h)-1,F=b>>1,N=-7,R=n?E-1:0,I=n?-1:1,w=i[e+R];for(R+=I,g=w&(1<<-N)-1,w>>=-N,N+=h;N>0;g=g*256+i[e+R],R+=I,N-=8);for(d=g&(1<<-N)-1,g>>=-N,N+=f;N>0;d=d*256+i[e+R],R+=I,N-=8);if(g===0)g=1-F;else{if(g===b)return d?NaN:(w?-1:1)*(1/0);d=d+Math.pow(2,f),g=g-F}return(w?-1:1)*d*Math.pow(2,g-f)};Nt.write=function(i,e,n,f,E,g){var d,h,b,F=g*8-E-1,N=(1<<F)-1,R=N>>1,I=E===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=f?0:g-1,v=f?1:-1,s=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,d=N):(d=Math.floor(Math.log(e)/Math.LN2),e*(b=Math.pow(2,-d))<1&&(d--,b*=2),d+R>=1?e+=I/b:e+=I*Math.pow(2,1-R),e*b>=2&&(d++,b/=2),d+R>=N?(h=0,d=N):d+R>=1?(h=(e*b-1)*Math.pow(2,E),d=d+R):(h=e*Math.pow(2,R-1)*Math.pow(2,E),d=0));E>=8;i[n+w]=h&255,w+=v,h/=256,E-=8);for(d=d<<E|h,F+=E;F>0;i[n+w]=d&255,w+=v,d/=256,F-=8);i[n+w-v]|=s*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(i){const e=it,n=Nt,f=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=h,i.SlowBuffer=u,i.INSPECT_MAX_BYTES=50;const E=2147483647;i.kMaxLength=E,h.TYPED_ARRAY_SUPPORT=g(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function g(){try{const o=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(o,t),o.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function d(o){if(o>E)throw new RangeError('The value "'+o+'" is invalid for option "size"');const t=new Uint8Array(o);return Object.setPrototypeOf(t,h.prototype),t}function h(o,t,r){if(typeof o=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return R(o)}return b(o,t,r)}h.poolSize=8192;function b(o,t,r){if(typeof o=="string")return I(o,t);if(ArrayBuffer.isView(o))return v(o);if(o==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o);if(ve(o,ArrayBuffer)||o&&ve(o.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ve(o,SharedArrayBuffer)||o&&ve(o.buffer,SharedArrayBuffer)))return s(o,t,r);if(typeof o=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const l=o.valueOf&&o.valueOf();if(l!=null&&l!==o)return h.from(l,t,r);const y=p(o);if(y)return y;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof o[Symbol.toPrimitive]=="function")return h.from(o[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o)}h.from=function(o,t,r){return b(o,t,r)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function F(o){if(typeof o!="number")throw new TypeError('"size" argument must be of type number');if(o<0)throw new RangeError('The value "'+o+'" is invalid for option "size"')}function N(o,t,r){return F(o),o<=0?d(o):t!==void 0?typeof r=="string"?d(o).fill(t,r):d(o).fill(t):d(o)}h.alloc=function(o,t,r){return N(o,t,r)};function R(o){return F(o),d(o<0?0:a(o)|0)}h.allocUnsafe=function(o){return R(o)},h.allocUnsafeSlow=function(o){return R(o)};function I(o,t){if((typeof t!="string"||t==="")&&(t="utf8"),!h.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=_(o,t)|0;let l=d(r);const y=l.write(o,t);return y!==r&&(l=l.slice(0,y)),l}function w(o){const t=o.length<0?0:a(o.length)|0,r=d(t);for(let l=0;l<t;l+=1)r[l]=o[l]&255;return r}function v(o){if(ve(o,Uint8Array)){const t=new Uint8Array(o);return s(t.buffer,t.byteOffset,t.byteLength)}return w(o)}function s(o,t,r){if(t<0||o.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(o.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let l;return t===void 0&&r===void 0?l=new Uint8Array(o):r===void 0?l=new Uint8Array(o,t):l=new Uint8Array(o,t,r),Object.setPrototypeOf(l,h.prototype),l}function p(o){if(h.isBuffer(o)){const t=a(o.length)|0,r=d(t);return r.length===0||o.copy(r,0,0,t),r}if(o.length!==void 0)return typeof o.length!="number"||st(o.length)?d(0):w(o);if(o.type==="Buffer"&&Array.isArray(o.data))return w(o.data)}function a(o){if(o>=E)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return o|0}function u(o){return+o!=o&&(o=0),h.alloc(+o)}h.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==h.prototype},h.compare=function(t,r){if(ve(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),ve(r,Uint8Array)&&(r=h.from(r,r.offset,r.byteLength)),!h.isBuffer(t)||!h.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;let l=t.length,y=r.length;for(let m=0,T=Math.min(l,y);m<T;++m)if(t[m]!==r[m]){l=t[m],y=r[m];break}return l<y?-1:y<l?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return h.alloc(0);let l;if(r===void 0)for(r=0,l=0;l<t.length;++l)r+=t[l].length;const y=h.allocUnsafe(r);let m=0;for(l=0;l<t.length;++l){let T=t[l];if(ve(T,Uint8Array))m+T.length>y.length?(h.isBuffer(T)||(T=h.from(T)),T.copy(y,m)):Uint8Array.prototype.set.call(y,T,m);else if(h.isBuffer(T))T.copy(y,m);else throw new TypeError('"list" argument must be an Array of Buffers');m+=T.length}return y};function _(o,t){if(h.isBuffer(o))return o.length;if(ArrayBuffer.isView(o)||ve(o,ArrayBuffer))return o.byteLength;if(typeof o!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof o);const r=o.length,l=arguments.length>2&&arguments[2]===!0;if(!l&&r===0)return 0;let y=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return ot(o).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Ot(o).length;default:if(y)return l?-1:ot(o).length;t=(""+t).toLowerCase(),y=!0}}h.byteLength=_;function O(o,t,r){let l=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(o||(o="utf8");;)switch(o){case"hex":return H(this,t,r);case"utf8":case"utf-8":return P(this,t,r);case"ascii":return c(this,t,r);case"latin1":case"binary":return B(this,t,r);case"base64":return j(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,t,r);default:if(l)throw new TypeError("Unknown encoding: "+o);o=(o+"").toLowerCase(),l=!0}}h.prototype._isBuffer=!0;function S(o,t,r){const l=o[t];o[t]=o[r],o[r]=l}h.prototype.swap16=function(){const t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<t;r+=2)S(this,r,r+1);return this},h.prototype.swap32=function(){const t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<t;r+=4)S(this,r,r+3),S(this,r+1,r+2);return this},h.prototype.swap64=function(){const t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<t;r+=8)S(this,r,r+7),S(this,r+1,r+6),S(this,r+2,r+5),S(this,r+3,r+4);return this},h.prototype.toString=function(){const t=this.length;return t===0?"":arguments.length===0?P(this,0,t):O.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:h.compare(this,t)===0},h.prototype.inspect=function(){let t="";const r=i.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},f&&(h.prototype[f]=h.prototype.inspect),h.prototype.compare=function(t,r,l,y,m){if(ve(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(r===void 0&&(r=0),l===void 0&&(l=t?t.length:0),y===void 0&&(y=0),m===void 0&&(m=this.length),r<0||l>t.length||y<0||m>this.length)throw new RangeError("out of range index");if(y>=m&&r>=l)return 0;if(y>=m)return-1;if(r>=l)return 1;if(r>>>=0,l>>>=0,y>>>=0,m>>>=0,this===t)return 0;let T=m-y,D=l-r;const Y=Math.min(T,D),J=this.slice(y,m),Q=t.slice(r,l);for(let q=0;q<Y;++q)if(J[q]!==Q[q]){T=J[q],D=Q[q];break}return T<D?-1:D<T?1:0};function M(o,t,r,l,y){if(o.length===0)return-1;if(typeof r=="string"?(l=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,st(r)&&(r=y?0:o.length-1),r<0&&(r=o.length+r),r>=o.length){if(y)return-1;r=o.length-1}else if(r<0)if(y)r=0;else return-1;if(typeof t=="string"&&(t=h.from(t,l)),h.isBuffer(t))return t.length===0?-1:x(o,t,r,l,y);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?y?Uint8Array.prototype.indexOf.call(o,t,r):Uint8Array.prototype.lastIndexOf.call(o,t,r):x(o,[t],r,l,y);throw new TypeError("val must be string, number or Buffer")}function x(o,t,r,l,y){let m=1,T=o.length,D=t.length;if(l!==void 0&&(l=String(l).toLowerCase(),l==="ucs2"||l==="ucs-2"||l==="utf16le"||l==="utf-16le")){if(o.length<2||t.length<2)return-1;m=2,T/=2,D/=2,r/=2}function Y(Q,q){return m===1?Q[q]:Q.readUInt16BE(q*m)}let J;if(y){let Q=-1;for(J=r;J<T;J++)if(Y(o,J)===Y(t,Q===-1?0:J-Q)){if(Q===-1&&(Q=J),J-Q+1===D)return Q*m}else Q!==-1&&(J-=J-Q),Q=-1}else for(r+D>T&&(r=T-D),J=r;J>=0;J--){let Q=!0;for(let q=0;q<D;q++)if(Y(o,J+q)!==Y(t,q)){Q=!1;break}if(Q)return J}return-1}h.prototype.includes=function(t,r,l){return this.indexOf(t,r,l)!==-1},h.prototype.indexOf=function(t,r,l){return M(this,t,r,l,!0)},h.prototype.lastIndexOf=function(t,r,l){return M(this,t,r,l,!1)};function $(o,t,r,l){r=Number(r)||0;const y=o.length-r;l?(l=Number(l),l>y&&(l=y)):l=y;const m=t.length;l>m/2&&(l=m/2);let T;for(T=0;T<l;++T){const D=parseInt(t.substr(T*2,2),16);if(st(D))return T;o[r+T]=D}return T}function ee(o,t,r,l){return Ge(ot(t,o.length-r),o,r,l)}function fe(o,t,r,l){return Ge(pr(t),o,r,l)}function _e(o,t,r,l){return Ge(Ot(t),o,r,l)}function ae(o,t,r,l){return Ge(Er(t,o.length-r),o,r,l)}h.prototype.write=function(t,r,l,y){if(r===void 0)y="utf8",l=this.length,r=0;else if(l===void 0&&typeof r=="string")y=r,l=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(l)?(l=l>>>0,y===void 0&&(y="utf8")):(y=l,l=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const m=this.length-r;if((l===void 0||l>m)&&(l=m),t.length>0&&(l<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");y||(y="utf8");let T=!1;for(;;)switch(y){case"hex":return $(this,t,r,l);case"utf8":case"utf-8":return ee(this,t,r,l);case"ascii":case"latin1":case"binary":return fe(this,t,r,l);case"base64":return _e(this,t,r,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,t,r,l);default:if(T)throw new TypeError("Unknown encoding: "+y);y=(""+y).toLowerCase(),T=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(o,t,r){return t===0&&r===o.length?e.fromByteArray(o):e.fromByteArray(o.slice(t,r))}function P(o,t,r){r=Math.min(o.length,r);const l=[];let y=t;for(;y<r;){const m=o[y];let T=null,D=m>239?4:m>223?3:m>191?2:1;if(y+D<=r){let Y,J,Q,q;switch(D){case 1:m<128&&(T=m);break;case 2:Y=o[y+1],(Y&192)===128&&(q=(m&31)<<6|Y&63,q>127&&(T=q));break;case 3:Y=o[y+1],J=o[y+2],(Y&192)===128&&(J&192)===128&&(q=(m&15)<<12|(Y&63)<<6|J&63,q>2047&&(q<55296||q>57343)&&(T=q));break;case 4:Y=o[y+1],J=o[y+2],Q=o[y+3],(Y&192)===128&&(J&192)===128&&(Q&192)===128&&(q=(m&15)<<18|(Y&63)<<12|(J&63)<<6|Q&63,q>65535&&q<1114112&&(T=q))}}T===null?(T=65533,D=1):T>65535&&(T-=65536,l.push(T>>>10&1023|55296),T=56320|T&1023),l.push(T),y+=D}return A(l)}const le=4096;function A(o){const t=o.length;if(t<=le)return String.fromCharCode.apply(String,o);let r="",l=0;for(;l<t;)r+=String.fromCharCode.apply(String,o.slice(l,l+=le));return r}function c(o,t,r){let l="";r=Math.min(o.length,r);for(let y=t;y<r;++y)l+=String.fromCharCode(o[y]&127);return l}function B(o,t,r){let l="";r=Math.min(o.length,r);for(let y=t;y<r;++y)l+=String.fromCharCode(o[y]);return l}function H(o,t,r){const l=o.length;(!t||t<0)&&(t=0),(!r||r<0||r>l)&&(r=l);let y="";for(let m=t;m<r;++m)y+=yr[o[m]];return y}function X(o,t,r){const l=o.slice(t,r);let y="";for(let m=0;m<l.length-1;m+=2)y+=String.fromCharCode(l[m]+l[m+1]*256);return y}h.prototype.slice=function(t,r){const l=this.length;t=~~t,r=r===void 0?l:~~r,t<0?(t+=l,t<0&&(t=0)):t>l&&(t=l),r<0?(r+=l,r<0&&(r=0)):r>l&&(r=l),r<t&&(r=t);const y=this.subarray(t,r);return Object.setPrototypeOf(y,h.prototype),y};function U(o,t,r){if(o%1!==0||o<0)throw new RangeError("offset is not uint");if(o+t>r)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(t,r,l){t=t>>>0,r=r>>>0,l||U(t,r,this.length);let y=this[t],m=1,T=0;for(;++T<r&&(m*=256);)y+=this[t+T]*m;return y},h.prototype.readUintBE=h.prototype.readUIntBE=function(t,r,l){t=t>>>0,r=r>>>0,l||U(t,r,this.length);let y=this[t+--r],m=1;for(;r>0&&(m*=256);)y+=this[t+--r]*m;return y},h.prototype.readUint8=h.prototype.readUInt8=function(t,r){return t=t>>>0,r||U(t,1,this.length),this[t]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(t,r){return t=t>>>0,r||U(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(t,r){return t=t>>>0,r||U(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(t,r){return t=t>>>0,r||U(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(t,r){return t=t>>>0,r||U(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readBigUInt64LE=Ae(function(t){t=t>>>0,Oe(t,"offset");const r=this[t],l=this[t+7];(r===void 0||l===void 0)&&He(t,this.length-8);const y=r+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,m=this[++t]+this[++t]*2**8+this[++t]*2**16+l*2**24;return BigInt(y)+(BigInt(m)<<BigInt(32))}),h.prototype.readBigUInt64BE=Ae(function(t){t=t>>>0,Oe(t,"offset");const r=this[t],l=this[t+7];(r===void 0||l===void 0)&&He(t,this.length-8);const y=r*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],m=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+l;return(BigInt(y)<<BigInt(32))+BigInt(m)}),h.prototype.readIntLE=function(t,r,l){t=t>>>0,r=r>>>0,l||U(t,r,this.length);let y=this[t],m=1,T=0;for(;++T<r&&(m*=256);)y+=this[t+T]*m;return m*=128,y>=m&&(y-=Math.pow(2,8*r)),y},h.prototype.readIntBE=function(t,r,l){t=t>>>0,r=r>>>0,l||U(t,r,this.length);let y=r,m=1,T=this[t+--y];for(;y>0&&(m*=256);)T+=this[t+--y]*m;return m*=128,T>=m&&(T-=Math.pow(2,8*r)),T},h.prototype.readInt8=function(t,r){return t=t>>>0,r||U(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},h.prototype.readInt16LE=function(t,r){t=t>>>0,r||U(t,2,this.length);const l=this[t]|this[t+1]<<8;return l&32768?l|4294901760:l},h.prototype.readInt16BE=function(t,r){t=t>>>0,r||U(t,2,this.length);const l=this[t+1]|this[t]<<8;return l&32768?l|4294901760:l},h.prototype.readInt32LE=function(t,r){return t=t>>>0,r||U(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,r){return t=t>>>0,r||U(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readBigInt64LE=Ae(function(t){t=t>>>0,Oe(t,"offset");const r=this[t],l=this[t+7];(r===void 0||l===void 0)&&He(t,this.length-8);const y=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(l<<24);return(BigInt(y)<<BigInt(32))+BigInt(r+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)}),h.prototype.readBigInt64BE=Ae(function(t){t=t>>>0,Oe(t,"offset");const r=this[t],l=this[t+7];(r===void 0||l===void 0)&&He(t,this.length-8);const y=(r<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(y)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+l)}),h.prototype.readFloatLE=function(t,r){return t=t>>>0,r||U(t,4,this.length),n.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,r){return t=t>>>0,r||U(t,4,this.length),n.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,r){return t=t>>>0,r||U(t,8,this.length),n.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,r){return t=t>>>0,r||U(t,8,this.length),n.read(this,t,!1,52,8)};function V(o,t,r,l,y,m){if(!h.isBuffer(o))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>y||t<m)throw new RangeError('"value" argument is out of bounds');if(r+l>o.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(t,r,l,y){if(t=+t,r=r>>>0,l=l>>>0,!y){const D=Math.pow(2,8*l)-1;V(this,t,r,l,D,0)}let m=1,T=0;for(this[r]=t&255;++T<l&&(m*=256);)this[r+T]=t/m&255;return r+l},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(t,r,l,y){if(t=+t,r=r>>>0,l=l>>>0,!y){const D=Math.pow(2,8*l)-1;V(this,t,r,l,D,0)}let m=l-1,T=1;for(this[r+m]=t&255;--m>=0&&(T*=256);)this[r+m]=t/T&255;return r+l},h.prototype.writeUint8=h.prototype.writeUInt8=function(t,r,l){return t=+t,r=r>>>0,l||V(this,t,r,1,255,0),this[r]=t&255,r+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(t,r,l){return t=+t,r=r>>>0,l||V(this,t,r,2,65535,0),this[r]=t&255,this[r+1]=t>>>8,r+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(t,r,l){return t=+t,r=r>>>0,l||V(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=t&255,r+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(t,r,l){return t=+t,r=r>>>0,l||V(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255,r+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(t,r,l){return t=+t,r=r>>>0,l||V(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};function re(o,t,r,l,y){bt(t,l,y,o,r,7);let m=Number(t&BigInt(4294967295));o[r++]=m,m=m>>8,o[r++]=m,m=m>>8,o[r++]=m,m=m>>8,o[r++]=m;let T=Number(t>>BigInt(32)&BigInt(4294967295));return o[r++]=T,T=T>>8,o[r++]=T,T=T>>8,o[r++]=T,T=T>>8,o[r++]=T,r}function oe(o,t,r,l,y){bt(t,l,y,o,r,7);let m=Number(t&BigInt(4294967295));o[r+7]=m,m=m>>8,o[r+6]=m,m=m>>8,o[r+5]=m,m=m>>8,o[r+4]=m;let T=Number(t>>BigInt(32)&BigInt(4294967295));return o[r+3]=T,T=T>>8,o[r+2]=T,T=T>>8,o[r+1]=T,T=T>>8,o[r]=T,r+8}h.prototype.writeBigUInt64LE=Ae(function(t,r=0){return re(this,t,r,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=Ae(function(t,r=0){return oe(this,t,r,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(t,r,l,y){if(t=+t,r=r>>>0,!y){const Y=Math.pow(2,8*l-1);V(this,t,r,l,Y-1,-Y)}let m=0,T=1,D=0;for(this[r]=t&255;++m<l&&(T*=256);)t<0&&D===0&&this[r+m-1]!==0&&(D=1),this[r+m]=(t/T>>0)-D&255;return r+l},h.prototype.writeIntBE=function(t,r,l,y){if(t=+t,r=r>>>0,!y){const Y=Math.pow(2,8*l-1);V(this,t,r,l,Y-1,-Y)}let m=l-1,T=1,D=0;for(this[r+m]=t&255;--m>=0&&(T*=256);)t<0&&D===0&&this[r+m+1]!==0&&(D=1),this[r+m]=(t/T>>0)-D&255;return r+l},h.prototype.writeInt8=function(t,r,l){return t=+t,r=r>>>0,l||V(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=t&255,r+1},h.prototype.writeInt16LE=function(t,r,l){return t=+t,r=r>>>0,l||V(this,t,r,2,32767,-32768),this[r]=t&255,this[r+1]=t>>>8,r+2},h.prototype.writeInt16BE=function(t,r,l){return t=+t,r=r>>>0,l||V(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=t&255,r+2},h.prototype.writeInt32LE=function(t,r,l){return t=+t,r=r>>>0,l||V(this,t,r,4,2147483647,-2147483648),this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4},h.prototype.writeInt32BE=function(t,r,l){return t=+t,r=r>>>0,l||V(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4},h.prototype.writeBigInt64LE=Ae(function(t,r=0){return re(this,t,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=Ae(function(t,r=0){return oe(this,t,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function te(o,t,r,l,y,m){if(r+l>o.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Z(o,t,r,l,y){return t=+t,r=r>>>0,y||te(o,t,r,4),n.write(o,t,r,l,23,4),r+4}h.prototype.writeFloatLE=function(t,r,l){return Z(this,t,r,!0,l)},h.prototype.writeFloatBE=function(t,r,l){return Z(this,t,r,!1,l)};function se(o,t,r,l,y){return t=+t,r=r>>>0,y||te(o,t,r,8),n.write(o,t,r,l,52,8),r+8}h.prototype.writeDoubleLE=function(t,r,l){return se(this,t,r,!0,l)},h.prototype.writeDoubleBE=function(t,r,l){return se(this,t,r,!1,l)},h.prototype.copy=function(t,r,l,y){if(!h.isBuffer(t))throw new TypeError("argument should be a Buffer");if(l||(l=0),!y&&y!==0&&(y=this.length),r>=t.length&&(r=t.length),r||(r=0),y>0&&y<l&&(y=l),y===l||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("sourceEnd out of bounds");y>this.length&&(y=this.length),t.length-r<y-l&&(y=t.length-r+l);const m=y-l;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,l,y):Uint8Array.prototype.set.call(t,this.subarray(l,y),r),m},h.prototype.fill=function(t,r,l,y){if(typeof t=="string"){if(typeof r=="string"?(y=r,r=0,l=this.length):typeof l=="string"&&(y=l,l=this.length),y!==void 0&&typeof y!="string")throw new TypeError("encoding must be a string");if(typeof y=="string"&&!h.isEncoding(y))throw new TypeError("Unknown encoding: "+y);if(t.length===1){const T=t.charCodeAt(0);(y==="utf8"&&T<128||y==="latin1")&&(t=T)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(r<0||this.length<r||this.length<l)throw new RangeError("Out of range index");if(l<=r)return this;r=r>>>0,l=l===void 0?this.length:l>>>0,t||(t=0);let m;if(typeof t=="number")for(m=r;m<l;++m)this[m]=t;else{const T=h.isBuffer(t)?t:h.from(t,y),D=T.length;if(D===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(m=0;m<l-r;++m)this[m+r]=T[m%D]}return this};const K={};function ie(o,t,r){K[o]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${o}]`,this.stack,delete this.name}get code(){return o}set code(y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:y,writable:!0})}toString(){return`${this.name} [${o}]: ${this.message}`}}}ie("ERR_BUFFER_OUT_OF_BOUNDS",function(o){return o?`${o} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ie("ERR_INVALID_ARG_TYPE",function(o,t){return`The "${o}" argument must be of type number. Received type ${typeof t}`},TypeError),ie("ERR_OUT_OF_RANGE",function(o,t,r){let l=`The value of "${o}" is out of range.`,y=r;return Number.isInteger(r)&&Math.abs(r)>2**32?y=Pe(String(r)):typeof r=="bigint"&&(y=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(y=Pe(y)),y+="n"),l+=` It must be ${t}. Received ${y}`,l},RangeError);function Pe(o){let t="",r=o.length;const l=o[0]==="-"?1:0;for(;r>=l+4;r-=3)t=`_${o.slice(r-3,r)}${t}`;return`${o.slice(0,r)}${t}`}function cr(o,t,r){Oe(t,"offset"),(o[t]===void 0||o[t+r]===void 0)&&He(t,o.length-(r+1))}function bt(o,t,r,l,y,m){if(o>r||o<t){const T=typeof t=="bigint"?"n":"";let D;throw t===0||t===BigInt(0)?D=`>= 0${T} and < 2${T} ** ${(m+1)*8}${T}`:D=`>= -(2${T} ** ${(m+1)*8-1}${T}) and < 2 ** ${(m+1)*8-1}${T}`,new K.ERR_OUT_OF_RANGE("value",D,o)}cr(l,y,m)}function Oe(o,t){if(typeof o!="number")throw new K.ERR_INVALID_ARG_TYPE(t,"number",o)}function He(o,t,r){throw Math.floor(o)!==o?(Oe(o,r),new K.ERR_OUT_OF_RANGE("offset","an integer",o)):t<0?new K.ERR_BUFFER_OUT_OF_BOUNDS:new K.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${t}`,o)}const dr=/[^+/0-9A-Za-z-_]/g;function gr(o){if(o=o.split("=")[0],o=o.trim().replace(dr,""),o.length<2)return"";for(;o.length%4!==0;)o=o+"=";return o}function ot(o,t){t=t||1/0;let r;const l=o.length;let y=null;const m=[];for(let T=0;T<l;++T){if(r=o.charCodeAt(T),r>55295&&r<57344){if(!y){if(r>56319){(t-=3)>-1&&m.push(239,191,189);continue}else if(T+1===l){(t-=3)>-1&&m.push(239,191,189);continue}y=r;continue}if(r<56320){(t-=3)>-1&&m.push(239,191,189),y=r;continue}r=(y-55296<<10|r-56320)+65536}else y&&(t-=3)>-1&&m.push(239,191,189);if(y=null,r<128){if((t-=1)<0)break;m.push(r)}else if(r<2048){if((t-=2)<0)break;m.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;m.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;m.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return m}function pr(o){const t=[];for(let r=0;r<o.length;++r)t.push(o.charCodeAt(r)&255);return t}function Er(o,t){let r,l,y;const m=[];for(let T=0;T<o.length&&!((t-=2)<0);++T)r=o.charCodeAt(T),l=r>>8,y=r%256,m.push(y),m.push(l);return m}function Ot(o){return e.toByteArray(gr(o))}function Ge(o,t,r,l){let y;for(y=0;y<l&&!(y+r>=t.length||y>=o.length);++y)t[y+r]=o[y];return y}function ve(o,t){return o instanceof t||o!=null&&o.constructor!=null&&o.constructor.name!=null&&o.constructor.name===t.name}function st(o){return o!==o}const yr=function(){const o="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const l=r*16;for(let y=0;y<16;++y)t[l+y]=o[r]+o[y]}return t}();function Ae(o){return typeof BigInt>"u"?wr:o}function wr(){throw new Error("BigInt not supported")}})(nr);var hi=G,ge=null;try{ge=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function G(i,e,n){this.low=i|0,this.high=e|0,this.unsigned=!!n}G.prototype.__isLong__;Object.defineProperty(G.prototype,"__isLong__",{value:!0});function he(i){return(i&&i.__isLong__)===!0}G.isLong=he;var Bt={},Rt={};function be(i,e){var n,f,E;return e?(i>>>=0,(E=0<=i&&i<256)&&(f=Rt[i],f)?f:(n=W(i,(i|0)<0?-1:0,!0),E&&(Rt[i]=n),n)):(i|=0,(E=-128<=i&&i<128)&&(f=Bt[i],f)?f:(n=W(i,i<0?-1:0,!1),E&&(Bt[i]=n),n))}G.fromInt=be;function pe(i,e){if(isNaN(i))return e?Ie:Ee;if(e){if(i<0)return Ie;if(i>=sr)return hr}else{if(i<=-Ct)return ue;if(i+1>=Ct)return ur}return i<0?pe(-i,e).neg():W(i%De|0,i/De|0,e)}G.fromNumber=pe;function W(i,e,n){return new G(i,e,n)}G.fromBits=W;var Qe=Math.pow;function Pt(i,e,n){if(i.length===0)throw Error("empty string");if(i==="NaN"||i==="Infinity"||i==="+Infinity"||i==="-Infinity")return Ee;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var f;if((f=i.indexOf("-"))>0)throw Error("interior hyphen");if(f===0)return Pt(i.substring(1),e,n).neg();for(var E=pe(Qe(n,8)),g=Ee,d=0;d<i.length;d+=8){var h=Math.min(8,i.length-d),b=parseInt(i.substring(d,d+h),n);if(h<8){var F=pe(Qe(n,h));g=g.mul(F).add(pe(b))}else g=g.mul(E),g=g.add(pe(b))}return g.unsigned=e,g}G.fromString=Pt;function we(i,e){return typeof i=="number"?pe(i,e):typeof i=="string"?Pt(i,e):W(i.low,i.high,typeof e=="boolean"?e:i.unsigned)}G.fromValue=we;var St=65536,fi=1<<24,De=St*St,sr=De*De,Ct=sr/2,Mt=be(fi),Ee=be(0);G.ZERO=Ee;var Ie=be(0,!0);G.UZERO=Ie;var Ce=be(1);G.ONE=Ce;var ar=be(1,!0);G.UONE=ar;var Et=be(-1);G.NEG_ONE=Et;var ur=W(-1,2147483647,!1);G.MAX_VALUE=ur;var hr=W(-1,-1,!0);G.MAX_UNSIGNED_VALUE=hr;var ue=W(0,-2147483648,!1);G.MIN_VALUE=ue;var L=G.prototype;L.toInt=function(){return this.unsigned?this.low>>>0:this.low};L.toNumber=function(){return this.unsigned?(this.high>>>0)*De+(this.low>>>0):this.high*De+(this.low>>>0)};L.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(ue)){var n=pe(e),f=this.div(n),E=f.mul(n).sub(this);return f.toString(e)+E.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var g=pe(Qe(e,6),this.unsigned),d=this,h="";;){var b=d.div(g),F=d.sub(b.mul(g)).toInt()>>>0,N=F.toString(e);if(d=b,d.isZero())return N+h;for(;N.length<6;)N="0"+N;h=""+N+h}};L.getHighBits=function(){return this.high};L.getHighBitsUnsigned=function(){return this.high>>>0};L.getLowBits=function(){return this.low};L.getLowBitsUnsigned=function(){return this.low>>>0};L.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ue)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1};L.isZero=function(){return this.high===0&&this.low===0};L.eqz=L.isZero;L.isNegative=function(){return!this.unsigned&&this.high<0};L.isPositive=function(){return this.unsigned||this.high>=0};L.isOdd=function(){return(this.low&1)===1};L.isEven=function(){return(this.low&1)===0};L.equals=function(e){return he(e)||(e=we(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};L.eq=L.equals;L.notEquals=function(e){return!this.eq(e)};L.neq=L.notEquals;L.ne=L.notEquals;L.lessThan=function(e){return this.comp(e)<0};L.lt=L.lessThan;L.lessThanOrEqual=function(e){return this.comp(e)<=0};L.lte=L.lessThanOrEqual;L.le=L.lessThanOrEqual;L.greaterThan=function(e){return this.comp(e)>0};L.gt=L.greaterThan;L.greaterThanOrEqual=function(e){return this.comp(e)>=0};L.gte=L.greaterThanOrEqual;L.ge=L.greaterThanOrEqual;L.compare=function(e){if(he(e)||(e=we(e)),this.eq(e))return 0;var n=this.isNegative(),f=e.isNegative();return n&&!f?-1:!n&&f?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};L.comp=L.compare;L.negate=function(){return!this.unsigned&&this.eq(ue)?ue:this.not().add(Ce)};L.neg=L.negate;L.add=function(e){he(e)||(e=we(e));var n=this.high>>>16,f=this.high&65535,E=this.low>>>16,g=this.low&65535,d=e.high>>>16,h=e.high&65535,b=e.low>>>16,F=e.low&65535,N=0,R=0,I=0,w=0;return w+=g+F,I+=w>>>16,w&=65535,I+=E+b,R+=I>>>16,I&=65535,R+=f+h,N+=R>>>16,R&=65535,N+=n+d,N&=65535,W(I<<16|w,N<<16|R,this.unsigned)};L.subtract=function(e){return he(e)||(e=we(e)),this.add(e.neg())};L.sub=L.subtract;L.multiply=function(e){if(this.isZero())return Ee;if(he(e)||(e=we(e)),ge){var n=ge.mul(this.low,this.high,e.low,e.high);return W(n,ge.get_high(),this.unsigned)}if(e.isZero())return Ee;if(this.eq(ue))return e.isOdd()?ue:Ee;if(e.eq(ue))return this.isOdd()?ue:Ee;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(Mt)&&e.lt(Mt))return pe(this.toNumber()*e.toNumber(),this.unsigned);var f=this.high>>>16,E=this.high&65535,g=this.low>>>16,d=this.low&65535,h=e.high>>>16,b=e.high&65535,F=e.low>>>16,N=e.low&65535,R=0,I=0,w=0,v=0;return v+=d*N,w+=v>>>16,v&=65535,w+=g*N,I+=w>>>16,w&=65535,w+=d*F,I+=w>>>16,w&=65535,I+=E*N,R+=I>>>16,I&=65535,I+=g*F,R+=I>>>16,I&=65535,I+=d*b,R+=I>>>16,I&=65535,R+=f*N+E*F+g*b+d*h,R&=65535,W(w<<16|v,R<<16|I,this.unsigned)};L.mul=L.multiply;L.divide=function(e){if(he(e)||(e=we(e)),e.isZero())throw Error("division by zero");if(ge){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?ge.div_u:ge.div_s)(this.low,this.high,e.low,e.high);return W(n,ge.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Ie:Ee;var f,E,g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Ie;if(e.gt(this.shru(1)))return ar;g=Ie}else{if(this.eq(ue)){if(e.eq(Ce)||e.eq(Et))return ue;if(e.eq(ue))return Ce;var d=this.shr(1);return f=d.div(e).shl(1),f.eq(Ee)?e.isNegative()?Ce:Et:(E=this.sub(e.mul(f)),g=f.add(E.div(e)),g)}else if(e.eq(ue))return this.unsigned?Ie:Ee;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();g=Ee}for(E=this;E.gte(e);){f=Math.max(1,Math.floor(E.toNumber()/e.toNumber()));for(var h=Math.ceil(Math.log(f)/Math.LN2),b=h<=48?1:Qe(2,h-48),F=pe(f),N=F.mul(e);N.isNegative()||N.gt(E);)f-=b,F=pe(f,this.unsigned),N=F.mul(e);F.isZero()&&(F=Ce),g=g.add(F),E=E.sub(N)}return g};L.div=L.divide;L.modulo=function(e){if(he(e)||(e=we(e)),ge){var n=(this.unsigned?ge.rem_u:ge.rem_s)(this.low,this.high,e.low,e.high);return W(n,ge.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};L.mod=L.modulo;L.rem=L.modulo;L.not=function(){return W(~this.low,~this.high,this.unsigned)};L.and=function(e){return he(e)||(e=we(e)),W(this.low&e.low,this.high&e.high,this.unsigned)};L.or=function(e){return he(e)||(e=we(e)),W(this.low|e.low,this.high|e.high,this.unsigned)};L.xor=function(e){return he(e)||(e=we(e)),W(this.low^e.low,this.high^e.high,this.unsigned)};L.shiftLeft=function(e){return he(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?W(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):W(0,this.low<<e-32,this.unsigned)};L.shl=L.shiftLeft;L.shiftRight=function(e){return he(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?W(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):W(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};L.shr=L.shiftRight;L.shiftRightUnsigned=function(e){if(he(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var f=this.low;return W(f>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?W(n,0,this.unsigned):W(n>>>e-32,0,this.unsigned)};L.shru=L.shiftRightUnsigned;L.shr_u=L.shiftRightUnsigned;L.toSigned=function(){return this.unsigned?W(this.low,this.high,!1):this};L.toUnsigned=function(){return this.unsigned?this:W(this.low,this.high,!0)};L.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};L.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};L.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};G.fromBytes=function(e,n,f){return f?G.fromBytesLE(e,n):G.fromBytesBE(e,n)};G.fromBytesLE=function(e,n){return new G(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};G.fromBytesBE=function(e,n){return new G(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};const Te=hi,li=(i,e)=>Te.fromBits(i.readInt32LE(e),i.readInt32LE(e+4),!0),ci=(i,e)=>Te.fromBits(i.readInt32BE(e+4),i.readInt32BE(e),!0),di=(i,e)=>Te.fromBits(i.readInt32LE(e),i.readInt32LE(e+4),!1),gi=(i,e)=>Te.fromBits(i.readInt32BE(e+4),i.readInt32BE(e),!1),xt=(i,e,n)=>{i instanceof Te||(typeof i=="number"?i=Te.fromNumber(i):i=Te.fromString(i||"")),e.writeInt32LE(i.getLowBits(),n,!0),e.writeInt32LE(i.getHighBits(),n+4,!0)},Ut=(i,e,n)=>{i instanceof Te||(typeof i=="number"?i=Te.fromNumber(i):i=Te.fromString(i||"")),e.writeInt32BE(i.getHighBits(),n,!0),e.writeInt32BE(i.getLowBits(),n+4,!0)};var pi={unpackUInt64LE:li,unpackUInt64BE:ci,unpackInt64LE:di,unpackInt64BE:gi,packUInt64LE:xt,packUInt64BE:Ut,packInt64LE:xt,packInt64BE:Ut},Ei=ei(Object.assign({Buffer:nr.Buffer,isLittleEndian:typeof Uint8Array!==void 0?new Uint8Array(new Uint32Array([305419896]).buffer)[0]===120:!0,is64bit:typeof navigator!==void 0?/WOW64|Win64|arm64|ia64|x64;|Mac OS X/i.test(navigator.userAgent):!0},pi)),Dt;function Vt(){if(Dt)return $e;Dt=1;var i=C&&C.__awaiter||function(v,s,p,a){function u(_){return _ instanceof p?_:new p(function(O){O(_)})}return new(p||(p=Promise))(function(_,O){function S($){try{x(a.next($))}catch(ee){O(ee)}}function M($){try{x(a.throw($))}catch(ee){O(ee)}}function x($){$.done?_($.value):u($.value).then(S,M)}x((a=a.apply(v,s||[])).next())})},e=C&&C.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty($e,"__esModule",{value:!0}),$e.V2PacketParser=void 0;const n=At,f=e(Qr),E=e(Ei),g=yt(),d=Ve,h=ne,b=It(),F=/^[@=!<>]?([1-9]?[xcbBhHiIlLfdspPqQ?])+$/,N=/^[@=!<>]?(s)+$/,R=/^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$/,I=/[^\x20-\x22\x25-\x2A\x2C-\x7E]/;class w{constructor(s){this.logger=s}parseSystemInfo(s){return i(this,void 0,void 0,function*(){this.logger.verbose("MqttApiV2Parser.parseSystemInfo()");let p;try{const a=s.toString("utf-8");p=JSON.parse(a)}catch(a){const u="Payload could not be JSON parsed";throw this.logger.error(u),(0,n.isNativeError)(a)&&this.logger.error(a.message),new Error(u)}return this.logger.debug(`Received system info: ${JSON.stringify(p)}`),this.validateSystemInfo(p)})}validateSystemInfo(s){return i(this,void 0,void 0,function*(){return yield Promise.all([this.validateApiVersion(s.api_ver),new Promise(p=>s.gb_lib_ver!==void 0?p(this.validateGumbandLibraryVersion(s.gb_lib_ver)):p(void 0)),new Promise(p=>s.name!==void 0?p(this.validateSystemName(s.name)):p(void 0)),this.validateSystemType(s.type),this.validateCapabilities(s.capabilities),new Promise(p=>s.platform!==void 0?p(this.validatePlatform(s.platform)):p(void 0)),this.validateMACAddress(s.mac),this.validateIP(s.ip),this.validateNumProps(s.num_props),new Promise(p=>{const a={api_ver:!0,gb_lib_ver:!0,name:!0,type:!0,capabilities:!0,num_props:!0,platform:!0,mac:!0,ip:!0};for(const u of Object.keys(s))a[u]||(this.logger.debug(`Deleted extra key ${u} from System Info`),delete s[u]);return p(void 0)})]),s})}validateApiVersion(s){return i(this,void 0,void 0,function*(){if(typeof s!="number")throw new Error("api version is not a number");if(s!==2)throw new Error(`api version is invalid. expected value: ${d.V2ApiVersions}`);return s})}validateGumbandLibraryVersion(s){return i(this,void 0,void 0,function*(){if(typeof s!="string")throw new Error("gumband library version is not a string");return s})}validateSystemType(s){return i(this,void 0,void 0,function*(){if(typeof s!="string")throw new Error("system type not a string");if(s==="")throw new Error("invalid empty system type");return s})}validateCapabilities(s){return i(this,void 0,void 0,function*(){if(!Array.isArray(s))throw new Error("capabilities are not an array");return s.forEach(p=>{if(typeof p!="string")throw new Error(`capability: ${p} is not a string`)}),s})}validateSystemName(s){return i(this,void 0,void 0,function*(){if(typeof s!="string")throw new Error("name is not a string");return s})}validateMACAddress(s){return i(this,void 0,void 0,function*(){if(typeof s!="string")throw new Error("mac is not a string");if(!R.test(s))throw new Error("mac is not a valid MAC Address");return s})}validateIP(s){return i(this,void 0,void 0,function*(){if(typeof s!="string")throw new Error("ip not a string");const p=s.split(".");if(p.length!==4)throw new Error("ip is invalid format");const a=/^(([1-9][0-9]?)?[0-9])$/;return p.forEach(u=>{if(!a.test(u))throw new Error(`ip value ${u} is invalid`);if(parseInt(u)>255)throw new Error(`ip value ${u} is out of bounds`)}),s})}validatePlatform(s){return i(this,void 0,void 0,function*(){return yield Promise.all([this.validatePlatformName(s.name),new Promise(p=>s.variant!==void 0?p(this.validatePlatformVariant(s.variant)):p(void 0)),new Promise(p=>s.ver!==void 0?p(this.validatePlatformVersion(s.ver)):p(void 0)),new Promise(p=>s.gb_pkg_ver!==void 0?p(this.validateGumbandPackageVersion(s.gb_pkg_ver)):p(void 0)),new Promise(p=>s.bootloader_ver!==void 0?p(this.validatePlatformBootloaderVersion(s.bootloader_ver)):p(void 0)),new Promise(p=>{const a={name:!0,variant:!0,ver:!0,gb_pkg_ver:!0,bootloader_ver:!0};for(const u of Object.keys(s))a[u]||(this.logger.debug(`Deleted extra key ${u} from System platform`),delete s[u]);return p(void 0)})]),s})}validatePlatformName(s){return i(this,void 0,void 0,function*(){if(typeof s!="string")throw new Error("platform name is not a string");return s})}validatePlatformVariant(s){return i(this,void 0,void 0,function*(){if(typeof s!="string")throw new Error("platform variant is not a string");return s})}validatePlatformVersion(s){return i(this,void 0,void 0,function*(){if(typeof s!="string")throw new Error("platform version is not a string");return s})}validatePlatformBootloaderVersion(s){return i(this,void 0,void 0,function*(){if(typeof s!="string")throw new Error("platform bootloader version is not a string");return s})}validateGumbandPackageVersion(s){return i(this,void 0,void 0,function*(){if(typeof s!="string")throw new Error("gumband package version is not a string");return s})}parseApplicationInfo(s){return i(this,void 0,void 0,function*(){this.logger.verbose("MqttApiV2Parser.parseApplicationInfo()");let p;try{const a=s.toString("utf-8");p=JSON.parse(a)}catch(a){const u=`Payload could not be JSON parsed: ${s}`;throw this.logger.error(u),(0,n.isNativeError)(a)&&this.logger.error(a.message),new Error(u)}return this.logger.debug(`Received app info: ${JSON.stringify(p)}`),this.validateApplicationInfo(p)})}validateApplicationInfo(s){return i(this,void 0,void 0,function*(){return yield Promise.all([new Promise(p=>s.file_name!==void 0?p(this.validateAppFileName(s.file_name)):p(void 0)),new Promise(p=>s.ver!==void 0?p(this.validateAppVersion(s.ver)):p(void 0)),new Promise(p=>s.gb_pkg_ver!==void 0?p(this.validateGumbandPackageVersion(s.gb_pkg_ver)):p(void 0)),this.validateNumProps(s.num_props),new Promise(p=>{const a={ver:!0,file_name:!0,gb_pkg_ver:!0,num_props:!0};for(const u of Object.keys(s))a[u]||(this.logger.debug(`Deleted extra key ${u} from App Info`),delete s[u]);return p(void 0)})]),s})}validateAppVersion(s){return i(this,void 0,void 0,function*(){if(typeof s!="string")throw new Error("app version is not a string");return s})}validateAppFileName(s){return i(this,void 0,void 0,function*(){if(typeof s!="string")throw new Error("app file name is not a string");return s})}validateNumProps(s){return i(this,void 0,void 0,function*(){if(typeof s!="number")throw new Error("num_props is not a number");if(s<0)throw new Error("num_props is a negative value");if(s%1!==0)throw new Error("num_props is not an integer");return s})}parseLog(s){return i(this,void 0,void 0,function*(){this.logger.verbose("MqttApiV2Parser.parseLog()");let p;try{const a=s.toString("utf-8");p=JSON.parse(a)}catch(a){const u=`Payload could not be JSON parsed: ${s}`;throw this.logger.error(u),(0,n.isNativeError)(a)&&this.logger.error(a.message),new Error(u)}return this.logger.debug(`Received log: ${JSON.stringify(p)}`),this.validateLog(p)})}validateLog(s){if(s.severity===void 0)throw new Error("log severity must be declared");if(!["debug","error","warning"].includes(s.severity))throw new Error("log severity must be of a known level");if(typeof s.text!="string")throw new Error("log message must be a string");return s}parseProperty(s){return i(this,void 0,void 0,function*(){this.logger.verbose("MqttApiV2Parser.parseProperty()");let p;try{const a=s.toString("utf-8");p=JSON.parse(a)}catch(a){const u=`Payload could not be JSON parsed: ${s}`;throw this.logger.error(u),(0,n.isNativeError)(a)&&this.logger.error(a.message),new Error(u)}return this.logger.debug(`Received property: ${JSON.stringify(p)}`),this.validateProperty(p)})}validateProperty(s){return i(this,void 0,void 0,function*(){return yield Promise.all([this.validatePropertyPath(s.path),this.validatePropertyIndex(s.index),new Promise(p=>s.desc!==void 0?p(this.validatePropertyDescription(s.desc)):p(void 0)),this.validatePropertyType(s.type),new Promise(p=>{p(this.validatePropertyLength(s.length).then(()=>i(this,void 0,void 0,function*(){return this.validatePropertyFormat(s.format,s.length)})))}),this.validateBoolean(s.settable,"settable"),this.validateBoolean(s.gettable,"gettable"),new Promise(p=>s.min!==void 0?p(this.validatePropertyMinimumValue(s.min)):p(void 0)),new Promise(p=>s.max!==void 0?p(this.validatePropertyMaximumValue(s.max)):p(void 0)),new Promise(p=>s.step!==void 0?p(this.validatePropertyStepValue(s.step)):p(void 0)),new Promise(p=>s.ui_hidden!==void 0?p(this.validateBoolean(s.ui_hidden,"ui_hidden")):p(void 0)),new Promise(p=>{const a={path:!0,index:!0,desc:!0,type:!0,format:!0,length:!0,settable:!0,gettable:!0,min:!0,step:!0,max:!0,ui_hidden:!0};for(const u of Object.keys(s))a[u]||(this.logger.debug(`Deleted extra key ${u} from Property`),delete s[u]);return p(void 0)})]),s})}validatePropertyPath(s){return i(this,void 0,void 0,function*(){if(typeof s!="string")throw new Error("property path is not a string");if(s.split("/").forEach(a=>{if(a==="")throw new Error("property path contains an empty level")}),I.test(s)===!0)throw new Error("property path contains invalid characters");return s})}validatePropertyIndex(s){return i(this,void 0,void 0,function*(){if(typeof s!="number")throw new Error("property index is not a number");if(s<0)throw new Error("property index is a negative value");if(s%1!==0)throw new Error("property index is a decimal value");return s})}validatePropertyDescription(s){return i(this,void 0,void 0,function*(){if(typeof s!="string")throw new Error("property description is not a string");return s})}validatePropertyType(s){return i(this,void 0,void 0,function*(){if(typeof s!="string")throw new Error("property type is not a string");if(!d.V2PropertyTypes.includes(s))throw new Error("not a supported property type");return s})}validatePropertyLength(s){return i(this,void 0,void 0,function*(){if(typeof s!="number")throw new Error("property length is not a number");if(s<0)throw new Error("property length is a negative value");if(s%1!==0)throw new Error("property length is a decimal value");return s})}validatePropertyFormat(s,p){return i(this,void 0,void 0,function*(){if(typeof s!="string")throw new Error("property format is not a string");if(!F.test(s)&&s!=="")throw new Error("property format is not a valid python struct string");if(s===""&&p!==0)throw new Error("Empty property format does not allow for array support");return s})}validatePropertyMaximumValue(s){return i(this,void 0,void 0,function*(){if(typeof s!="number")throw new Error("property max is not a number");return s})}validatePropertyMinimumValue(s){return i(this,void 0,void 0,function*(){if(typeof s!="number")throw new Error("property min is not a number");return s})}validatePropertyStepValue(s){return i(this,void 0,void 0,function*(){if(typeof s!="number")throw new Error("property step is not a number");return s})}validateBoolean(s,p){return i(this,void 0,void 0,function*(){if(typeof s!="boolean")throw new Error(`${p?`${p} is `:""}not a boolean`);return s})}validatePropertyValueBoundaries(s,p){try{switch(p.type){case"gmbnd_primitive":s.forEach(a=>{if(typeof a=="number"){if(p.min!==void 0&&a<p.min)throw new Error(`Property value falls below expected minimum of ${p.min}`);if(p.max!==void 0&&a>p.max)throw new Error(`Property value falls above expected maximum of ${p.max}`)}else if(f.default.isLong(a)){if(p.min!==void 0&&a.compare(p.min)===-1)throw new Error(`Property value falls below expected minimum of ${p.min}`);if(p.max!==void 0&&a.compare(p.max)===1)throw new Error(`Property value falls above expected maximum of ${p.max}`)}});break;case"gmbnd_color":this.validateExtendedPropertyValueBoundaries(s,g.GMBND_COLOR_FORMAT);break;case"gmbnd_led":this.validateExtendedPropertyValueBoundaries(s,g.GMBND_LED_FORMAT);break;default:(0,h.exhaustiveGuard)(p.type)}return s}catch(a){throw new Error(a)}}validateExtendedPropertyValueBoundaries(s,p){if(s.length!==p.length)throw new Error("Incorrect number of values provided for property type");for(let a=0;a<s.length;a++){const u=s[a],_=p[a].min,O=p[a].max;if(typeof u=="number"){if(_!==void 0&&u<_)throw new Error(`Property value falls below expected minimum of ${_}`);if(O!==void 0&&u>O)throw new Error(`Property value falls above expected maximum of ${O}`)}else if(f.default.isLong(u)){if(_!==void 0&&u.compare(_)===-1)throw new Error(`Property value falls below expected minimum of ${_}`);if(O!==void 0&&u.compare(O)===1)throw new Error(`Property value falls above expected maximum of ${O}`)}}}parsePropertyValue(s,p){const a=[];try{let u=p.format;if(p.type=="gmbnd_primitive"&&p.format.includes("s")){if(s.length===0)return[[""]];const M=Math.min(p.length,s.length);u=String(M)+p.format}const _=E.default.sizeOf(u);let O=0,S=0;for(;O<p.length&&S+_<=s.length;){const M=E.default.unpackFrom(u,s,!1,S);this.validatePropertyValueBoundaries(M,p),a.push(M),S+=_,O++}}catch(u){const _=`Payload could not be struct parsed: ${s}`;throw this.logger.error(_),(0,n.isNativeError)(u)&&this.logger.error(u.message),new Error(_)}return a}jsonFormatPropertyValue(s,p){try{switch(p.type){case"gmbnd_primitive":const a=[];return s.forEach(u=>{u.forEach(_=>{a.push(_)})}),a;case"gmbnd_color":return s.map(u=>this.formatExtendedPropertyValue(u,g.GMBND_COLOR_FORMAT));case"gmbnd_led":return s.map(u=>this.formatExtendedPropertyValue(u,g.GMBND_LED_FORMAT));default:(0,h.exhaustiveGuard)(p.type)}throw new Error("Unable to JSON format property value")}catch(a){throw new Error(a)}}formatExtendedPropertyValue(s,p){if(s.length!==p.length)throw new Error("Incorrect number of values provided for JSON formatting");const a={};for(let u=0;u<s.length;u++)a[p[u].name]=s[u];return a}unpackCustomData(s,p){const a=[];let u;switch(p){case"gmbnd_color":u=g.GMBND_COLOR_FORMAT;break;case"gmbnd_led":u=g.GMBND_LED_FORMAT;break;default:return s.forEach(_=>{a.push(Object.values(_))}),a}return s.forEach(_=>{if(typeof _=="object"&&_!==null&&!f.default.isLong(_)&&u){const O=[];if(u.forEach(S=>{_[S.name]!==void 0&&O.push(_[S.name])}),O.length!==u.length||Object.keys(_).length!==u.length)throw new Error("Unpacking error");a.push(O)}else throw new Error("Error reading in data")}),a}unpackJsonPropertyValue(s,p){let a=[];if(p.type==="gmbnd_primitive"){if(N.test(p.format)&&typeof s[0]=="string"){if(s[0].length>p.length)throw new Error("String length too long");if(s.length>1)throw new Error("Too many data entries");return[[s[0]]]}s.forEach(u=>{a.push([u])})}else a=this.unpackCustomData(s,p.type);if(a.length>p.length)throw new Error("Too many data entries");return a}packPropertyValue(s,p){if(N.test(s)){const a=p[0][0],u=s.indexOf("s");if(typeof a!="string")throw new TypeError("values[0][0] is not a string");const _=a.length;s=s.substring(0,u)+String(_)+s.substring(u),p=[[a]]}return Buffer.concat(p.map(a=>E.default.pack(s,a)))}setPropertyValue(s,p,a,u,_){return i(this,void 0,void 0,function*(){let O=Buffer.from([]);try{const S=this.unpackJsonPropertyValue(u,a);O=this.packPropertyValue(a.format,S)}catch(S){throw this.logger.error(S),new b.PropertyFormatError(`componentId: ${s}, source: ${p}, propertyPath: ${a.path} had an issue packing the input ${JSON.stringify(u)}`)}yield _((0,d.v2PropSetEndpoint)(s,a.path,p),O)})}}return $e.V2PacketParser=w,$e}var Ht;function yt(){return Ht||(Ht=1,function(i){var e=C&&C.__createBinding||(Object.create?function(I,w,v,s){s===void 0&&(s=v);var p=Object.getOwnPropertyDescriptor(w,v);(!p||("get"in p?!w.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return w[v]}}),Object.defineProperty(I,s,p)}:function(I,w,v,s){s===void 0&&(s=v),I[s]=w[v]}),n=C&&C.__exportStar||function(I,w){for(var v in I)v!=="default"&&!Object.prototype.hasOwnProperty.call(w,v)&&e(w,I,v)},f=C&&C.__awaiter||function(I,w,v,s){function p(a){return a instanceof v?a:new v(function(u){u(a)})}return new(v||(v=Promise))(function(a,u){function _(M){try{S(s.next(M))}catch(x){u(x)}}function O(M){try{S(s.throw(M))}catch(x){u(x)}}function S(M){M.done?a(M.value):p(M.value).then(_,O)}S((s=s.apply(I,w||[])).next())})},E=C&&C.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(i,"__esModule",{value:!0}),i.MqttApiV2=i.GMBND_LED_FORMAT=i.GMBND_COLOR_FORMAT=i.V2_EVENTS=void 0,n(Vt(),i);const g=E(Tt),d=At,h=Ve,b=ne,F=qe,N=Vt();i.V2_EVENTS={UNHANDLED_MSG:"unhandledMessage",RECEIVED_MSG:"receivedMessage",ONLINE:"online",REGISTERED:"registered",PROP_UPDATE:"propertyUpdate",LOG_RECEIVED:"logReceived"},i.GMBND_COLOR_FORMAT=[{name:"white",min:0,max:255},{name:"red",min:0,max:255},{name:"green",min:0,max:255},{name:"blue",min:0,max:255}],i.GMBND_LED_FORMAT=[{name:"index",min:0,max:65535},{name:"brightness",min:0,max:255},{name:"white",min:0,max:255},{name:"red",min:0,max:255},{name:"green",min:0,max:255},{name:"blue",min:0,max:255}];class R extends g.default{constructor(w,v){super(),this.registrationTimeouts={app:{},system:{}},this.cache=w,this.logger=v,this.packetParser=new N.V2PacketParser(this.logger)}onMessage(w,v,s){return f(this,void 0,void 0,function*(){switch(this.emit(i.V2_EVENTS.RECEIVED_MSG,{componentId:w,topic:v,data:s}),v){case"system/info":yield this.handleSystemInfo(w,s);break;case"app/info":yield this.handleAppInfo(w,s);break;case"system/log":yield this.handleLog(w,"system",s);break;case"app/log":yield this.handleLog(w,"app",s);break;case"app/register/prop":yield this.handlePropertyRegistration(w,"app",s);break;case"system/register/prop":yield this.handlePropertyRegistration(w,"system",s);break;default:{const p=v.split("/");if(p[1]==="prop"&&p[2]==="pub"&&p[3]===":"){const a=p[0],u=p.splice(4);if(!(0,h.isV2Source)(a))throw new Error(`${a} is not a valid V2 API source`);yield this.handlePropertyTopic(w,a,u,s)}else this.emit(i.V2_EVENTS.UNHANDLED_MSG,{componentId:w,topic:v,data:s});break}}})}handleSystemInfo(w,v){return f(this,void 0,void 0,function*(){if(v.length===0){this.emit(i.V2_EVENTS.ONLINE,{componentId:w,online:!1});try{yield(0,F.lockRegistrationCacheAndPerformAction)(this.cache,new Set(["system","app"]),w,()=>f(this,void 0,void 0,function*(){return this.cache.clearAllCacheForComponentId(w)}))}catch(p){this.logger.error(p)}return}this.emit(i.V2_EVENTS.ONLINE,{componentId:w,online:!0});let s;try{s=yield this.packetParser.parseSystemInfo(v)}catch(p){let a=`Failed to unpack system/info payload for componentId: ${w}`;this.logger.debug(a),(0,d.isNativeError)(p)&&(this.logger.debug(`Reason: ${p.message}`),a+=`. Reason: ${p.message}`),this.logger.debug(`Clearing System and Application Registration from cache for componentId: ${w}`);try{yield(0,F.lockRegistrationCacheAndPerformAction)(this.cache,new Set(["system","app"]),w,()=>f(this,void 0,void 0,function*(){return this.cache.clearAllCacheForComponentId(w)}))}catch(u){const _=`Failed to clear system info cache for componentId: ${w}`;this.logger.error(_),(0,d.isNativeError)(u)?this.logger.error(u.message):this.logger.error(u)}}try{yield(0,F.lockRegistrationCacheAndPerformAction)(this.cache,new Set(["system"]),w,()=>f(this,void 0,void 0,function*(){yield this.cache.cacheMQTTAPIVersion(w,s.api_ver),yield this.cache.cacheSystemInfo(w,s),s.num_props===0?yield this.completeSuccessfulRegistration(w,"system"):this.setRegistrationTimeoutForComponentIdAndSource(w,"system")}))}catch(p){const a=`Failed to cache system info registration for componentId: ${w}`;this.logger.error(a),(0,d.isNativeError)(p)?this.logger.error(p.message):this.logger.error(p)}})}handleAppInfo(w,v){return f(this,void 0,void 0,function*(){try{yield(0,F.lockRegistrationCacheAndPerformAction)(this.cache,new Set(["app"]),w,()=>f(this,void 0,void 0,function*(){if(yield this.cache.isRegistered(w,"app")){this.logger.info(`Stray app/info message received for componentId: ${w}. Clearing cached application registration.`);try{yield this.cache.clearCachedValues(w,"app")}catch(a){const u=`Failed to clear application registration from cache for componentId: ${w}`;throw this.logger.error(u),(0,d.isNativeError)(a)?this.logger.error(a.message):this.logger.error(a),new Error(u)}this.emitRegistrationEvent(w,"app",!1)}let p;try{p=yield this.packetParser.parseApplicationInfo(v)}catch(a){let u=`Invalid app/info payload for componentId: ${w}`;throw this.logger.debug(u),(0,d.isNativeError)(a)&&(this.logger.debug(`Reason: ${a.message}`),u+=`. Reason: ${a.message}`),new Error(u)}try{yield this.cache.cacheApplicationInfo(w,p)}catch(a){const u=`Failed to cache Application Info for componentId: ${w}`;throw this.logger.error(u),(0,d.isNativeError)(a)?this.logger.error(a.message):this.logger.error(a),new Error(u)}p.num_props===0?yield this.completeSuccessfulRegistration(w,"app"):this.setRegistrationTimeoutForComponentIdAndSource(w,"app")}))}catch(s){this.logger.error(s)}})}handlePropertyRegistration(w,v,s){return f(this,void 0,void 0,function*(){try{yield(0,F.lockRegistrationCacheAndPerformAction)(this.cache,new Set([v]),w,()=>f(this,void 0,void 0,function*(){if(yield this.cache.isRegistered(w,v)){this.logger.info(`Stray ${v} prop message received for componentId: ${w}. Clearing cached registration.`);try{yield Promise.all([this.cache.clearProperties(w,v),this.cache.setRegistered(w,v,!1)])}catch(O){const S=`Failed to clear application registration from cache for componentId: ${w}`;throw this.logger.error(S),(0,d.isNativeError)(O)?this.logger.error(O.message):this.logger.error(O),new Error(S)}this.emitRegistrationEvent(w,v,!1)}let a;try{a=yield this.packetParser.parseProperty(s)}catch(O){let S=`Failed to unpack ${v} prop payload for componentId: ${w}`;throw this.logger.debug(S),(0,d.isNativeError)(O)&&(this.logger.debug(`Reason: ${O.message}`),S+=`. Reason: ${O.message}`),new Error(S)}let u;try{u=yield this.cache.getAllProperties(w,v)}catch(O){const S=`Failed to get ${v} properties from cache for componentId: ${w}`;throw this.logger.error(S),(0,d.isNativeError)(O)?this.logger.error(O.message):this.logger.error(O),new Error(S)}try{u.forEach(O=>{if(O.index===a.index&&O.path!==a.path)throw new Error("property index is not unique");if(O.path===a.path&&O.index!==a.index)throw new Error("property topic is not unique")})}catch(O){let S="New property is not compatible with previously registered properties";this.logger.debug(S),(0,d.isNativeError)(O)&&(this.logger.debug(`Reason: ${O.message}`),S+=`. Reason: ${O.message}`);return}try{yield this.cache.cacheProperty(w,v,a.path,a)}catch(O){const S=`Failed to cache ${v} Property for componentId: ${w}`;this.logger.error(S),(0,d.isNativeError)(O)?this.logger.error(O.message):this.logger.error(O);return}let _;try{switch(v){case"system":_=yield this.cache.getSystemInfo(w);break;case"app":_=yield this.cache.getApplicationInfo(w);break;default:_=(0,b.exhaustiveGuard)(v);break}}catch(O){const S=`Unable to get ${v} from the cache`;throw this.logger.error(S),(0,d.isNativeError)(O)?this.logger.debug(O.message):this.logger.debug(O),new Error(S)}(_==null?void 0:_.num_props)===u.length+1&&(clearTimeout(this.registrationTimeouts[v][w]),yield this.completeSuccessfulRegistration(w,v))}))}catch(p){this.logger.error(p)}})}completeSuccessfulRegistration(w,v){return f(this,void 0,void 0,function*(){try{yield this.cache.setRegistered(w,v,!0)}catch(s){const p=`[Critical] Failed to set ${v} isRegistered to true in the cache`;throw this.logger.error(p),(0,d.isNativeError)(s)?this.logger.debug(s.message):this.logger.debug(s),new Error(p)}this.emitRegistrationEvent(w,v,!0)})}handleLog(w,v,s){return f(this,void 0,void 0,function*(){let p;try{p=yield this.packetParser.parseLog(s)}catch(a){const u=`Failed to handle incomming log for componentId: ${w}`;throw this.logger.error(u),(0,d.isNativeError)(a)?this.logger.error(a.message):this.logger.error(a),new Error(u)}this.emit(i.V2_EVENTS.LOG_RECEIVED,{componentId:w,source:v,log:p})})}handlePropertyTopic(w,v,s,p){return f(this,void 0,void 0,function*(){switch(s.at(-1)){case"set":break;case"get":break;default:yield this.handlePropertyValueUpdate(w,v,s,p);break}})}handlePropertyValueUpdate(w,v,s,p){return f(this,void 0,void 0,function*(){const a=s.join("/");let u;try{u=yield this.cache.getProperty(w,v,a)}catch(_){const O=`Failed to get ${v} property "${a}" from the cache`;this.logger.error(O),(0,d.isNativeError)(_)?this.logger.debug(_.message):this.logger.debug(_);return}if(u===void 0){this.logger.error(`Invalid ${v} property registration for, "${a}" in the cache`);return}try{const _=this.packetParser.parsePropertyValue(p,u),O=this.packetParser.jsonFormatPropertyValue(_,u);this.emit(i.V2_EVENTS.PROP_UPDATE,{componentId:w,source:v,path:u.path,format:u.format,data:p,unpackedValue:_,formattedValue:O})}catch{const O=`Parsing failed for ${v} property ${a} from ${w}`;this.logger.error(O)}})}setRegistrationTimeoutForComponentIdAndSource(w,v){this.registrationTimeouts[v][w]&&clearTimeout(this.registrationTimeouts[v][w]),this.registrationTimeouts[v][w]=setTimeout(()=>{try{this.handleRegistrationTimeout(w,v)}catch(s){this.logger.error("Error occurred while evaluating application registration"),(0,d.isNativeError)(s)?this.logger.debug(s.message):this.logger.debug(s)}},3*1e3)}handleRegistrationTimeout(w,v){return f(this,void 0,void 0,function*(){try{yield(0,F.lockRegistrationCacheAndPerformAction)(this.cache,new Set([v]),w,()=>f(this,void 0,void 0,function*(){try{if(yield this.cache.isRegistered(w,v)){this.logger.info(`determined ${v} was previously registered -> no-op`);return}}catch(u){const _=`Failed to get ${v} iRegistered from the cache`;throw this.logger.error(_),this.logger.error(u),new Error(_)}let s;try{switch(v){case"system":s=yield this.cache.getSystemInfo(w);break;case"app":s=yield this.cache.getApplicationInfo(w);break;default:s=(0,b.exhaustiveGuard)(v);break}}catch(u){const _=`Unable to get ${v} from the cache`;throw this.logger.error(_),(0,d.isNativeError)(u)?this.logger.debug(u.message):this.logger.debug(u),new Error(_)}if((s==null?void 0:s.num_props)===void 0)throw new Error(`${v} info is invalid`);const p=s.num_props;let a;try{a=yield this.cache.getAllProperties(w,v)}catch(u){const _=`Failed to get ${v} properties from the cache`;throw this.logger.error(_),(0,d.isNativeError)(u)?this.logger.debug(u.message):this.logger.debug(u),new Error(_)}(a&&p!==a.length||!a&&p!==0)&&this.emitRegistrationEvent(w,v,!1)}))}catch(s){this.logger.error(s)}})}emitRegistrationEvent(w,v,s){this.emit(i.V2_EVENTS.REGISTERED,{componentId:w,source:v,registered:s})}}i.MqttApiV2=R}(ht)),ht}var $t;function fr(){return $t||($t=1,function(i){var e=C&&C.__createBinding||(Object.create?function(I,w,v,s){s===void 0&&(s=v);var p=Object.getOwnPropertyDescriptor(w,v);(!p||("get"in p?!w.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return w[v]}}),Object.defineProperty(I,s,p)}:function(I,w,v,s){s===void 0&&(s=v),I[s]=w[v]}),n=C&&C.__exportStar||function(I,w){for(var v in I)v!=="default"&&!Object.prototype.hasOwnProperty.call(w,v)&&e(w,I,v)},f=C&&C.__awaiter||function(I,w,v,s){function p(a){return a instanceof v?a:new v(function(u){u(a)})}return new(v||(v=Promise))(function(a,u){function _(M){try{S(s.next(M))}catch(x){u(x)}}function O(M){try{S(s.throw(M))}catch(x){u(x)}}function S(M){M.done?a(M.value):p(M.value).then(_,O)}S((s=s.apply(I,w||[])).next())})},E=C&&C.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(i,"__esModule",{value:!0}),i.MQTTEventHandler=void 0,n(qe,i),n(yt(),i);const g=E(Tt),d=At,h=Ve,b=ne,F=yt(),N=3*1e3;class R extends g.default{constructor(w,v,s){super(),this.cache=w,this.mqttClient=v,this.logger=s,this.mqttV2Api=new F.MqttApiV2(w,this.logger)}init(){return f(this,void 0,void 0,function*(){return Promise.resolve()})}onMessage(w,v,s){return f(this,void 0,void 0,function*(){let p;try{p=yield this.cache.getMQTTAPIVersion(w)}catch(a){const u=`Unable to get MQTT API Version from cache for componentId: ${w}`;this.logger.error(u),this.logger.error(`Payload: ${JSON.stringify(s)}`),this.logger.error(`Error: ${JSON.stringify(a)}`);return}if(p===void 0)if((0,h.isMQTTInitialRegistrationTopic)(v)){const a=yield this.getApiVersionFromRegistrationTopic(w,v,s);yield this.handleVersionedMessage(w,v,s,a),yield this.handlePendingMessages(w,a)}else yield this.cache.cachePendingMessage(w,v,s);else yield this.handleVersionedMessage(w,v,s,p)})}handlePendingMessages(w,v){return f(this,void 0,void 0,function*(){let s=!1;setTimeout(()=>s=!0,N);let p=yield this.cache.getNextPendingMessage(w);for(;p!==null;){if(s){this.logger.warn(`Handle pending message timeout for componentId: ${w}`);return}try{yield this.handleVersionedMessage(w,p.topic,p.payload,v),this.logger.debug(`Handled pending message: ${JSON.stringify(p)}`)}catch{this.logger.warn(`Failed to handle pending message: ${JSON.stringify(p)}`)}p=yield this.cache.getNextPendingMessage(w)}})}handleVersionedMessage(w,v,s,p){return f(this,void 0,void 0,function*(){switch(p){case 2:yield this.mqttV2Api.onMessage(w,v,s)}})}getApiVersionFromRegistrationTopic(w,v,s){return f(this,void 0,void 0,function*(){switch(this.logger.debug("baseMqttPacketHandler.registerSystem()"),v){case h.V2SystemInfoTopic:{let p;try{const u=s.toString("utf-8");p=JSON.parse(u)}catch(u){const _=`Payload could not be JSON parsed: ${s}`;throw this.logger.error(_),(0,d.isNativeError)(u)&&this.logger.error(u.message),new Error(_)}this.logger.debug(`Received ${v}: ${JSON.stringify(p)}`);const a=p==null?void 0:p.api_ver;if((0,h.isApiVersion)(a))return a;{const u=`${w}: Invalid API version (${a}) for registration topic: ${v}`;throw this.logger.error(u),new Error(u)}}default:return(0,b.exhaustiveGuard)(v)}})}}i.MQTTEventHandler=R}(ut)),ut}var jt;function yi(){if(jt)return ye;jt=1;var i=C&&C.__awaiter||function(h,b,F,N){function R(I){return I instanceof F?I:new F(function(w){w(I)})}return new(F||(F=Promise))(function(I,w){function v(a){try{p(N.next(a))}catch(u){w(u)}}function s(a){try{p(N.throw(a))}catch(u){w(u)}}function p(a){a.done?I(a.value):R(a.value).then(v,s)}p((N=N.apply(h,b||[])).next())})};Object.defineProperty(ye,"__esModule",{value:!0}),ye.setPropertyValue=ye.PropertyFormatError=ye.PropertyAccessError=ye.PropertyInvalidError=void 0;const e=ne,n=fr();class f extends Error{constructor(b){super(b)}}ye.PropertyInvalidError=f;class E extends Error{constructor(b){super(b)}}ye.PropertyAccessError=E;class g extends Error{constructor(b){super(b)}}ye.PropertyFormatError=g;const d=(h,b,F,N,R,I,w)=>i(void 0,void 0,void 0,function*(){const v=yield h.getProperty(b,F,N),s=yield h.getMQTTAPIVersion(b);if(v==null||s==null)throw new f(`[componentId: ${b}, source: ${F} propertyPath: ${N}], is not a valid property`);if(v.settable!==!0)throw new E(`[componentId: ${b}, source: ${F} propertyPath: ${N}], is not settable`);switch(s){case 2:{yield new n.V2PacketParser(w).setPropertyValue(b,F,v,R,I);break}default:(0,e.exhaustiveGuard)(s)}});return ye.setPropertyValue=d,ye}var nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.generateRandomNumber=void 0;function wi(i=1e4,e=0){const n=i-e+1;return Math.floor(Math.random()*n)+e}nt.generateRandomNumber=wi;var kt;function It(){return kt||(kt=1,function(i){var e=C&&C.__createBinding||(Object.create?function(f,E,g,d){d===void 0&&(d=g);var h=Object.getOwnPropertyDescriptor(E,g);(!h||("get"in h?!E.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return E[g]}}),Object.defineProperty(f,d,h)}:function(f,E,g,d){d===void 0&&(d=g),f[d]=E[g]}),n=C&&C.__exportStar||function(f,E){for(var g in f)g!=="default"&&!Object.prototype.hasOwnProperty.call(E,g)&&e(E,f,g)};Object.defineProperty(i,"__esModule",{value:!0}),n(de,i),n(rt,i),n(yi(),i),n(nt,i),n(ne,i)}(at)),at}var z=C&&C.__awaiter||function(i,e,n,f){function E(g){return g instanceof n?g:new n(function(d){d(g)})}return new(n||(n=Promise))(function(g,d){function h(N){try{F(f.next(N))}catch(R){d(R)}}function b(N){try{F(f.throw(N))}catch(R){d(R)}}function F(N){N.done?g(N.value):E(N.value).then(h,b)}F((f=f.apply(i,e||[])).next())})},_i=C&&C.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(xe,"__esModule",{value:!0});xe.HardwareRegistrationCache=xe.DefaultCacheLock=void 0;const vi=_i(Tt),mi=It(),Ti=100;class wt{constructor(){this.heldLocks=new Set,this.timeouts=new Map}lock(e,n){return z(this,void 0,void 0,function*(){for(;this.heldLocks.has(e);)yield(0,mi.waitMs)(100);this.heldLocks.add(e),n!==void 0&&this.timeouts.set(e,setTimeout(()=>{this.heldLocks.delete(e)},n))})}unlock(e){return z(this,void 0,void 0,function*(){clearTimeout(this.timeouts.get(e)),this.heldLocks.delete(e)})}}xe.DefaultCacheLock=wt;class Ai extends vi.default{constructor(e=!1,n){super(),this.locks={system:new wt,app:new wt},this.registrationHash={},this.logHashOnChange=e,this.ready=!0,this.emit("ready"),this.logger=n,this.pendingMessages={}}cacheMQTTAPIVersion(e,n){return z(this,void 0,void 0,function*(){this.initCachedHardwareManifest(e),this.registrationHash[e].apiVersion=n,this.logRegistrationHash()})}getMQTTAPIVersion(e){return z(this,void 0,void 0,function*(){var n;return(n=this.registrationHash[e])===null||n===void 0?void 0:n.apiVersion})}clearMQTTAPIVersion(e){return z(this,void 0,void 0,function*(){delete this.registrationHash[e].apiVersion,this.logRegistrationHash()})}cacheSystemInfo(e,n){return z(this,void 0,void 0,function*(){this.initCachedHardwareManifest(e),this.registrationHash[e].system.info=n,this.logRegistrationHash()})}getSystemInfo(e){return z(this,void 0,void 0,function*(){var n,f;return(f=(n=this.registrationHash[e])===null||n===void 0?void 0:n.system)===null||f===void 0?void 0:f.info})}clearSystemInfo(e){return z(this,void 0,void 0,function*(){delete this.registrationHash[e].system.info,this.logRegistrationHash()})}cacheApplicationInfo(e,n){return z(this,void 0,void 0,function*(){this.initCachedHardwareManifest(e),this.registrationHash[e].app.info=n,this.logRegistrationHash()})}getApplicationInfo(e){return z(this,void 0,void 0,function*(){var n;return(n=this.registrationHash[e])===null||n===void 0?void 0:n.app.info})}cacheProperty(e,n,f,E){return z(this,void 0,void 0,function*(){this.initCachedHardwareManifest(e),this.registrationHash[e][n].properties[f]=E,this.logRegistrationHash()})}getProperty(e,n,f){return z(this,void 0,void 0,function*(){return this.registrationHash[e][n].properties[f]})}getAllProperties(e,n){return z(this,void 0,void 0,function*(){return Object.values(this.registrationHash[e][n].properties)})}clearProperties(e,n){return z(this,void 0,void 0,function*(){this.initCachedHardwareManifest(e),this.registrationHash[e][n].properties={},this.logRegistrationHash()})}setRegistered(e,n,f){return z(this,void 0,void 0,function*(){this.initCachedHardwareManifest(e),this.registrationHash[e][n].isRegistered=f,this.logRegistrationHash()})}isRegistered(e,n){return z(this,void 0,void 0,function*(){return this.registrationHash[e][n].isRegistered===!0})}clearInfoAndRegistered(e,n){return z(this,void 0,void 0,function*(){delete this.registrationHash[e][n],this.registrationHash[e][n].isRegistered=!1,this.logRegistrationHash()})}clearCachedValues(e,n){return z(this,void 0,void 0,function*(){yield Promise.all([this.clearInfoAndRegistered(e,n),this.clearProperties(e,n)]),this.logRegistrationHash()})}clearAllCacheForComponentId(e){return z(this,void 0,void 0,function*(){delete this.registrationHash[e],this.clearPendingMessages(e),this.logRegistrationHash()})}initCachedHardwareManifest(e){this.registrationHash[e]===void 0&&(this.registrationHash[e]={system:{properties:{}},app:{properties:{}}})}logRegistrationHash(){this.logHashOnChange&&(this.logger.debug("In memory registration cache:"),this.logger.debug(JSON.stringify(this.registrationHash)))}cachePendingMessage(e,n,f){return z(this,void 0,void 0,function*(){Array.isArray(this.pendingMessages[e])?(this.pendingMessages[e].length>=Ti&&this.pendingMessages[e].shift(),this.pendingMessages[e].push({topic:n,payload:f})):this.pendingMessages[e]=[{topic:n,payload:f}]})}getNextPendingMessage(e){return z(this,void 0,void 0,function*(){var n,f;const E=(n=this.pendingMessages[e])===null||n===void 0?void 0:n.shift();return((f=this.pendingMessages[e])===null||f===void 0?void 0:f.length)===0&&delete this.pendingMessages[e],E??null})}clearPendingMessages(e){return z(this,void 0,void 0,function*(){delete this.pendingMessages[e]})}}xe.HardwareRegistrationCache=Ai;(function(i){var e=C&&C.__createBinding||(Object.create?function(f,E,g,d){d===void 0&&(d=g);var h=Object.getOwnPropertyDescriptor(E,g);(!h||("get"in h?!E.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return E[g]}}),Object.defineProperty(f,d,h)}:function(f,E,g,d){d===void 0&&(d=g),f[d]=E[g]}),n=C&&C.__exportStar||function(f,E){for(var g in f)g!=="default"&&!Object.prototype.hasOwnProperty.call(E,g)&&e(E,f,g)};Object.defineProperty(i,"__esModule",{value:!0}),n(Kt,i),n(xe,i)})(Wt);var lr={},_t={};Object.defineProperty(_t,"__esModule",{value:!0});var vt={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.COMPONENT_TYPE=i.isComponentCategory=i.COMPONENT_CATEGORY=void 0,i.COMPONENT_CATEGORY={SOFTWARE:"software",HARDWARE:"hardware"};function e(n){return typeof n=="string"&&Object.values(i.COMPONENT_CATEGORY).includes(n)}i.isComponentCategory=e,i.COMPONENT_TYPE={CUSTOM_APPLICATION:"custom-application",OS_MONITOR:"os-monitor",CUSTOM_HARDWARE:"custom-hardware",PRESENCE_SENSOR:"presence-sensor"}})(vt);var je={};Object.defineProperty(je,"__esModule",{value:!0});je.EXHIBIT_HEALTH_STATE=void 0;je.EXHIBIT_HEALTH_STATE={ALL_CONNECTIONS_OK:"ALL_CONNECTIONS_OK",NO_CONNECTIONS:"NO_CONNECTIONS",SOME_CONNECTIONS_OK:"SOME_CONNECTIONS_OK"};(function(i){var e=C&&C.__createBinding||(Object.create?function(f,E,g,d){d===void 0&&(d=g);var h=Object.getOwnPropertyDescriptor(E,g);(!h||("get"in h?!E.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return E[g]}}),Object.defineProperty(f,d,h)}:function(f,E,g,d){d===void 0&&(d=g),f[d]=E[g]}),n=C&&C.__exportStar||function(f,E){for(var g in f)g!=="default"&&!Object.prototype.hasOwnProperty.call(E,g)&&e(E,f,g)};Object.defineProperty(i,"__esModule",{value:!0}),n(_t,i),n(vt,i),n(je,i),n(_t,i),n(vt,i),n(je,i)})(lr);(function(i){var e=C&&C.__createBinding||(Object.create?function(f,E,g,d){d===void 0&&(d=g);var h=Object.getOwnPropertyDescriptor(E,g);(!h||("get"in h?!E.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return E[g]}}),Object.defineProperty(f,d,h)}:function(f,E,g,d){d===void 0&&(d=g),f[d]=E[g]}),n=C&&C.__exportStar||function(f,E){for(var g in f)g!=="default"&&!Object.prototype.hasOwnProperty.call(E,g)&&e(E,f,g)};Object.defineProperty(i,"__esModule",{value:!0}),n(qt,i),n(Wt,i),n(fr(),i),n(lr,i),n(Ve,i),n(It(),i)})(mr);export{mr as d};
