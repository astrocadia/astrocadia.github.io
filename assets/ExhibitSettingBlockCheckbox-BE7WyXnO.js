import{j as e}from"./jsx-runtime-4WDyTGeM.js";import{r as c}from"./index-Dl6G-zuu.js";import{M as k}from"./MainPanelCoplanarSubpageCard-DaRZLSNv.js";import{I as b}from"./IconButton-vPDIoB2n.js";import{D as q,s as v,q as V,z as L}from"./WarningIcon-DZ-0i3Yx.js";import"./EditIcon-C_DteFoa.js";import"./LinkIcon-8pN4OFct.js";import"./SvgIcon-eIfT25mh.js";import{a as D}from"./sorting-DnE3dIQc.js";import{u as E}from"./exhibit-DJJJjNfr.js";import{D as N,a as B,b as M,c as w}from"./DialogTitle-fvag0Hwa.js";import{B as _}from"./Button-CqlPB7zF.js";import{u as A}from"./useToggle-B4o7u8Ia.js";import"./Badge-jwGZ2zHx.js";import{C as G}from"./CountBadge-3ANCZLmo.js";import"./WarningIconBadge-7pfZhuGS.js";import{M as O}from"./MainPanelCoplanarSubpageBlockCheckbox-CK0dtC7s.js";import{G as P}from"./GroupExhibitSettingCard-CNJwTAe4.js";import{L as H}from"./ListExhibitSettingCard-C309B_wI.js";const C=({exhibitId:n,itemName:t,settingListId:l,manifestId:d})=>{var f,m;const{toggled:u,setOn:i,setOff:o}=A(!1),[a,{error:r,isLoading:s}]=E(),p=c.useCallback(()=>{o()},[o]),y=c.useCallback(async()=>{await a({exhibitId:n,settingListId:l,manifestId:d,itemName:t}).unwrap().then(()=>{o()})},[a,n,t,d,o,l]);return e.jsxs(e.Fragment,{children:[e.jsx(b,{variant:"primary",onClick:i,children:e.jsx(q,{})}),e.jsxs(N,{className:"ListItemDeleteButton__Dialog",open:u,onClose:s?void 0:p,children:[e.jsx(B,{title:"Remove List Item?"}),e.jsxs(M,{children:[e.jsxs("p",{children:["This will remove the list item"," ",e.jsx("span",{className:"ListItemDeleteButton__Dialog-itemName",children:t})," ","and cannot be undone."]}),r&&"data"in r&&((f=r.data)==null?void 0:f.response)&&e.jsx("p",{className:"ListItemDeleteButton__Error",children:(m=r.data)==null?void 0:m.response})]}),e.jsxs(w,{children:[e.jsx(_,{disabled:s,variant:"primary",onClick:p,children:"Cancel"}),e.jsx(_,{disabled:s,variant:"secondary",onClick:y,type:"submit",children:"Delete"})]})]})]})};try{C.displayName="ListItemDeleteButton",C.__docgenInfo={description:"",displayName:"ListItemDeleteButton",props:{exhibitId:{defaultValue:null,description:"",name:"exhibitId",required:!0,type:{name:"number"}},settingListId:{defaultValue:null,description:"",name:"settingListId",required:!0,type:{name:"number"}},manifestId:{defaultValue:null,description:"",name:"manifestId",required:!0,type:{name:"string"}},itemName:{defaultValue:null,description:"",name:"itemName",required:!0,type:{name:"string"}}}}}catch{}const S=({exhibitId:n,listName:t,items:l,settingListId:d,manifestId:u,settingListItemIndex:i,onCopy:o,onMoveUp:a,onMoveDown:r,hideDelete:s=!1,renderSetting:p,first:y,last:f})=>{const m=c.useMemo(()=>{if(o)return()=>o(i)},[o,i]),g=c.useMemo(()=>{if(a)return()=>a(i)},[a,i]),h=c.useMemo(()=>{if(r)return()=>r(i)},[r,i]),j=c.useMemo(()=>m!==void 0||g!==void 0||h!==void 0||s===!1,[s,m,h,g]),x=c.useMemo(()=>[...l].sort(D),[l]);return e.jsx(k,{className:"ListItemExhibitSettingCard",variant:"block",title:t,headerAction:j?e.jsxs("div",{className:"ListItemExhibitSettingCard__actions",children:[!!g&&e.jsx(b,{disabled:y,onClick:g,children:e.jsx(v,{})}),!!h&&e.jsx(b,{disabled:f,onClick:h,children:e.jsx(V,{})}),!!m&&e.jsx(b,{onClick:m,children:e.jsx(L,{})}),s===!1&&e.jsx(C,{exhibitId:n,settingListId:d,manifestId:u,itemName:t})]}):void 0,children:x.length>0&&e.jsx("div",{className:"ListItemExhibitSettingCard__settingWrapper",children:x==null?void 0:x.map(p)})})};try{S.displayName="ListItemExhibitSettingCard",S.__docgenInfo={description:"",displayName:"ListItemExhibitSettingCard",props:{exhibitId:{defaultValue:null,description:"",name:"exhibitId",required:!0,type:{name:"number"}},settingListId:{defaultValue:null,description:"",name:"settingListId",required:!0,type:{name:"number"}},manifestId:{defaultValue:null,description:"",name:"manifestId",required:!0,type:{name:"string"}},settingListItemIndex:{defaultValue:null,description:"",name:"settingListItemIndex",required:!0,type:{name:"number"}},onCopy:{defaultValue:null,description:"",name:"onCopy",required:!1,type:{name:"((index: number) => void)"}},onMoveUp:{defaultValue:null,description:"",name:"onMoveUp",required:!1,type:{name:"((index: number) => void)"}},onMoveDown:{defaultValue:null,description:"",name:"onMoveDown",required:!1,type:{name:"((index: number) => void)"}},hideDelete:{defaultValue:{value:"false"},description:"",name:"hideDelete",required:!1,type:{name:"boolean"}},renderSetting:{defaultValue:null,description:"",name:"renderSetting",required:!0,type:{name:"(setting: Setting, index: number) => ReactNode"}},first:{defaultValue:null,description:"",name:"first",required:!1,type:{name:"boolean"}},last:{defaultValue:null,description:"",name:"last",required:!1,type:{name:"boolean"}},listName:{defaultValue:null,description:"",name:"listName",required:!0,type:{name:"string"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"Setting[]"}}}}}catch{}function T(n,t){const{manifestId:l}=n;return t.reduce((d,u)=>{var i;return(i=u.breadcrumbs.at(-1))!=null&&i.manifestId.startsWith(l)?d+u.settings.length:d},0)}const I=({disabled:n=!1,setting:t,checked:l,onClick:d,onSelect:u,selectedSettings:i,...o})=>{const a=t.type,r=c.useMemo(()=>{let s=0;if((a==="SettingsGroup"||a==="SettingsList")&&(s=T(t,i)),s>0)return e.jsx(G,{count:s})},[t,a,i]);switch(a){case"SettingsList":return e.jsx(H,{settingList:t,onSelect:u,disabled:n,action:r});case"SettingsGroup":return e.jsx(P,{settingGroup:t,onSelect:u,disabled:n,action:r});default:return e.jsx(O,{title:t.display,checked:l,onClick:d,disabled:n,...o})}};try{I.displayName="ExhibitSettingBlockCheckbox",I.__docgenInfo={description:"",displayName:"ExhibitSettingBlockCheckbox",props:{setting:{defaultValue:null,description:"",name:"setting",required:!0,type:{name:"Setting"}},selectedSettings:{defaultValue:null,description:"",name:"selectedSettings",required:!0,type:{name:"FlattenedSettingsBlock[]"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(setting: SettingList | SettingGroup) => void"}},checkboxProps:{defaultValue:null,description:"",name:"checkboxProps",required:!1,type:{name:'Omit<CheckboxProps, "checked" | "disabled" | "onClick" | "onChange">'}},checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}}}catch{}export{I as E,S as L};
